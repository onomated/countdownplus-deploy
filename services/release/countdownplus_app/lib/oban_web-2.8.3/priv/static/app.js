(()=>{var Rn=Object.create;var di=Object.defineProperty;var Ln=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames;var Dn=Object.getPrototypeOf,jn=Object.prototype.hasOwnProperty;var In=e=>di(e,"__esModule",{value:!0});var Nn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Mn=(e,t,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of _n(t))!jn.call(e,r)&&r!=="default"&&di(e,r,{get:()=>t[r],enumerable:!(i=Ln(t,r))||i.enumerable});return e},Hn=e=>Mn(In(di(e!=null?Rn(Dn(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var vn=Nn((gn,oi)=>{(function(e,t){"use strict";(function(){for(var c=0,f=["ms","moz","webkit","o"],g=0;g<f.length&&!e.requestAnimationFrame;++g)e.requestAnimationFrame=e[f[g]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[f[g]+"CancelAnimationFrame"]||e[f[g]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(b,y){var v=new Date().getTime(),C=Math.max(0,16-(v-c)),P=e.setTimeout(function(){b(v+C)},C);return c=v+C,P}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(b){clearTimeout(b)})})();function i(){r.width=e.innerWidth,r.height=5*l.barThickness;var c=r.getContext("2d");c.shadowBlur=l.shadowBlur,c.shadowColor=l.shadowColor;var f,g=c.createLinearGradient(0,0,r.width,0);for(f in l.barColors)g.addColorStop(f,l.barColors[f]);c.lineWidth=l.barThickness,c.beginPath(),c.moveTo(0,l.barThickness/2),c.lineTo(Math.ceil(s*r.width),l.barThickness/2),c.strokeStyle=g,c.stroke()}var r,n,o,s,a,l={autoRun:!0,barThickness:3,barColors:{0:"rgba(26,  188, 156, .9)",".25":"rgba(52,  152, 219, .9)",".50":"rgba(241, 196, 15,  .9)",".75":"rgba(230, 126, 34,  .9)","1.0":"rgba(211, 84,  0,   .9)"},shadowBlur:10,shadowColor:"rgba(0,   0,   0,   .6)",className:null},d={config:function(c){for(var f in c)l.hasOwnProperty(f)&&(l[f]=c[f])},show:function(){var c,f,g;a||(a=!0,o!==null&&e.cancelAnimationFrame(o),r||((g=(r=t.createElement("canvas")).style).position="fixed",g.top=g.left=g.right=g.margin=g.padding=0,g.zIndex=100001,g.display="none",l.className&&r.classList.add(l.className),t.body.appendChild(r),c="resize",f=i,(g=e).addEventListener?g.addEventListener(c,f,!1):g.attachEvent?g.attachEvent("on"+c,f):g["on"+c]=f),r.style.opacity=1,r.style.display="block",d.progress(0),l.autoRun&&function b(){n=e.requestAnimationFrame(b),d.progress("+"+.05*Math.pow(1-Math.sqrt(s),2))}())},progress:function(c){return c===void 0||(typeof c=="string"&&(c=(0<=c.indexOf("+")||0<=c.indexOf("-")?s:0)+parseFloat(c)),s=1<c?1:c,i()),s},hide:function(){a&&(a=!1,n!=null&&(e.cancelAnimationFrame(n),n=null),function c(){return 1<=d.progress("+.1")&&(r.style.opacity-=.05,r.style.opacity<=.05)?(r.style.display="none",void(o=null)):void(o=e.requestAnimationFrame(c))}())}};typeof oi=="object"&&typeof oi.exports=="object"?oi.exports=d:typeof define=="function"&&define.amd?define(function(){return d}):this.topbar=d}).call(gn,window,document)});"use strict";(function(){var e=t();function t(){if(typeof window.CustomEvent=="function")return window.CustomEvent;function n(o,s){s=s||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(o,s.bubbles,s.cancelable,s.detail),a}return n.prototype=window.Event.prototype,n}function i(n,o){var s=document.createElement("input");return s.type="hidden",s.name=n,s.value=o,s}function r(n,o){var s=n.getAttribute("data-to"),a=i("_method",n.getAttribute("data-method")),l=i("_csrf_token",n.getAttribute("data-csrf")),d=document.createElement("form"),c=n.getAttribute("target");d.method=n.getAttribute("data-method")==="get"?"get":"post",d.action=s,d.style.display="hidden",c?d.target=c:o&&(d.target="_blank"),d.appendChild(l),d.appendChild(a),document.body.appendChild(d),d.submit()}window.addEventListener("click",function(n){var o=n.target;if(!n.defaultPrevented)for(;o&&o.getAttribute;){var s=new e("phoenix.link.click",{bubbles:!0,cancelable:!0});if(!o.dispatchEvent(s))return n.preventDefault(),n.stopImmediatePropagation(),!1;if(o.getAttribute("data-method"))return r(o,n.metaKey||n.shiftKey),n.preventDefault(),!1;o=o.parentNode}},!1),window.addEventListener("phoenix.link.click",function(n){var o=n.target.getAttribute("data-confirm");o&&!window.confirm(o)&&n.preventDefault()},!1)})();var ht=e=>typeof e=="function"?e:function(){return e},Bn=typeof self!="undefined"?self:null,pt=typeof window!="undefined"?window:null,Mt=Bn||pt||void 0,Un="2.0.0",we={connecting:0,open:1,closing:2,closed:3},Fn=1e4,$n=1e3,le={closed:"closed",errored:"errored",joined:"joined",joining:"joining",leaving:"leaving"},xe={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},fi={longpoll:"longpoll",websocket:"websocket"},Vn={complete:4},Ht=class{constructor(e,t,i,r){this.channel=e,this.event=t,this.payload=i||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,_ref:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},er=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},Wn=class{constructor(e,t,i){this.state=le.closed,this.topic=e,this.params=ht(t||{}),this.socket=i,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new Ht(this,xe.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new er(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=le.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=le.closed,this.socket.remove(this)}),this.onError(r=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,r),this.isJoining()&&this.joinPush.reset(),this.state=le.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new Ht(this,xe.leave,ht({}),this.timeout).send(),this.state=le.errored,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(xe.reply,(r,n)=>{this.trigger(this.replyEventName(n),r)})}join(e=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(e){this.on(xe.close,e)}onError(e){return this.on(xe.error,t=>e(t))}on(e,t){let i=this.bindingRef++;return this.bindings.push({event:e,ref:i,callback:t}),i}off(e,t){this.bindings=this.bindings.filter(i=>!(i.event===e&&(typeof t=="undefined"||t===i.ref)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,i=this.timeout){if(t=t||{},!this.joinedOnce)throw new Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let r=new Ht(this,e,function(){return t},i);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=le.leaving;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(xe.close,"leave")},i=new Ht(this,xe.leave,ht({}),e);return i.receive("ok",()=>t()).receive("timeout",()=>t()),i.send(),this.canPush()||i.trigger("ok",{}),i}onMessage(e,t,i){return t}isMember(e,t,i,r){return this.topic!==e?!1:r&&r!==this.joinRef()?(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:i,joinRef:r}),!1):!0}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(e))}trigger(e,t,i,r){let n=this.onMessage(e,t,i,r);if(t&&!n)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");let o=this.bindings.filter(s=>s.event===e);for(let s=0;s<o.length;s++)o[s].callback(n,i,r||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===le.closed}isErrored(){return this.state===le.errored}isJoined(){return this.state===le.joined}isJoining(){return this.state===le.joining}isLeaving(){return this.state===le.leaving}},mt=class{static request(e,t,i,r,n,o,s){if(Mt.XDomainRequest){let a=new Mt.XDomainRequest;this.xdomainRequest(a,e,t,r,n,o,s)}else{let a=new Mt.XMLHttpRequest;this.xhrRequest(a,e,t,i,r,n,o,s)}}static xdomainRequest(e,t,i,r,n,o,s){e.timeout=n,e.open(t,i),e.onload=()=>{let a=this.parseJSON(e.responseText);s&&s(a)},o&&(e.ontimeout=o),e.onprogress=()=>{},e.send(r)}static xhrRequest(e,t,i,r,n,o,s,a){e.open(t,i,!0),e.timeout=o,e.setRequestHeader("Content-Type",r),e.onerror=()=>{a&&a(null)},e.onreadystatechange=()=>{if(e.readyState===Vn.complete&&a){let l=this.parseJSON(e.responseText);a(l)}},s&&(e.ontimeout=s),e.send(n)}static parseJSON(e){if(!e||e==="")return null;try{return JSON.parse(e)}catch(t){return console&&console.log("failed to parse JSON response",e),null}}static serialize(e,t){let i=[];for(var r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let n=t?`${t}[${r}]`:r,o=e[r];typeof o=="object"?i.push(this.serialize(o,n)):i.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}return i.join("&")}static appendParams(e,t){if(Object.keys(t).length===0)return e;let i=e.match(/\?/)?"&":"?";return`${e}${i}${this.serialize(t)}`}},Bt=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=we.connecting,this.poll()}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+fi.websocket),"$1/"+fi.longpoll)}endpointURL(){return mt.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(){this.close(),this.readyState=we.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry()}poll(){(this.readyState===we.open||this.readyState===we.connecting)&&mt.request("GET",this.endpointURL(),"application/json",null,this.timeout,this.ontimeout.bind(this),e=>{if(e){var{status:t,token:i,messages:r}=e;this.token=i}else t=0;switch(t){case 200:r.forEach(n=>{setTimeout(()=>{this.onmessage({data:n})},0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=we.open,this.onopen(),this.poll();break;case 403:this.onerror(),this.close();break;case 0:case 500:this.onerror(),this.closeAndRetry();break;default:throw new Error(`unhandled poll status ${t}`)}})}send(e){mt.request("POST",this.endpointURL(),"application/json",e,this.timeout,this.onerror.bind(this,"timeout"),t=>{(!t||t.status!==200)&&(this.onerror(t&&t.status),this.closeAndRetry())})}close(e,t){this.readyState=we.closed,this.onclose()}};var Ut={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));{let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[i,r,n,o,s]=JSON.parse(e);return t({join_ref:i,ref:r,topic:n,event:o,payload:s})}},binaryEncode(e){let{join_ref:t,ref:i,event:r,topic:n,payload:o}=e,s=this.META_LENGTH+t.length+i.length+n.length+r.length,a=new ArrayBuffer(this.HEADER_LENGTH+s),l=new DataView(a),d=0;l.setUint8(d++,this.KINDS.push),l.setUint8(d++,t.length),l.setUint8(d++,i.length),l.setUint8(d++,n.length),l.setUint8(d++,r.length),Array.from(t,f=>l.setUint8(d++,f.charCodeAt(0))),Array.from(i,f=>l.setUint8(d++,f.charCodeAt(0))),Array.from(n,f=>l.setUint8(d++,f.charCodeAt(0))),Array.from(r,f=>l.setUint8(d++,f.charCodeAt(0)));var c=new Uint8Array(a.byteLength+o.byteLength);return c.set(new Uint8Array(a),0),c.set(new Uint8Array(o),a.byteLength),c.buffer},binaryDecode(e){let t=new DataView(e),i=t.getUint8(0),r=new TextDecoder;switch(i){case this.KINDS.push:return this.decodePush(e,t,r);case this.KINDS.reply:return this.decodeReply(e,t,r);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,r)}},decodePush(e,t,i){let r=t.getUint8(1),n=t.getUint8(2),o=t.getUint8(3),s=this.HEADER_LENGTH+this.META_LENGTH-1,a=i.decode(e.slice(s,s+r));s=s+r;let l=i.decode(e.slice(s,s+n));s=s+n;let d=i.decode(e.slice(s,s+o));s=s+o;let c=e.slice(s,e.byteLength);return{join_ref:a,ref:null,topic:l,event:d,payload:c}},decodeReply(e,t,i){let r=t.getUint8(1),n=t.getUint8(2),o=t.getUint8(3),s=t.getUint8(4),a=this.HEADER_LENGTH+this.META_LENGTH,l=i.decode(e.slice(a,a+r));a=a+r;let d=i.decode(e.slice(a,a+n));a=a+n;let c=i.decode(e.slice(a,a+o));a=a+o;let f=i.decode(e.slice(a,a+s));a=a+s;let g=e.slice(a,e.byteLength),b={status:f,response:g};return{join_ref:l,ref:d,topic:c,event:xe.reply,payload:b}},decodeBroadcast(e,t,i){let r=t.getUint8(1),n=t.getUint8(2),o=this.HEADER_LENGTH+2,s=i.decode(e.slice(o,o+r));o=o+r;let a=i.decode(e.slice(o,o+n));o=o+n;let l=e.slice(o,e.byteLength);return{join_ref:null,ref:null,topic:s,event:a,payload:l}}},tr=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||Fn,this.transport=t.transport||Mt.WebSocket||Bt,this.establishedConnections=0,this.defaultEncoder=Ut.encode.bind(Ut),this.defaultDecoder=Ut.decode.bind(Ut),this.closeWasClean=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==Bt?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let i=null;pt&&pt.addEventListener&&(pt.addEventListener("pagehide",r=>{this.conn&&(this.disconnect(),i=this.connectClock)}),pt.addEventListener("pageshow",r=>{i===this.connectClock&&(i=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=r=>t.rejoinAfterMs?t.rejoinAfterMs(r):[1e3,2e3,5e3][r-1]||1e4,this.reconnectAfterMs=r=>t.reconnectAfterMs?t.reconnectAfterMs(r):[10,50,100,150,200,250,500,1e3,2e3][r-1]||5e3,this.logger=t.logger||null,this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=ht(t.params||{}),this.endPoint=`${e}/${fi.websocket}`,this.vsn=t.vsn||Un,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new er(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}replaceTransport(e){this.disconnect(),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=mt.appendParams(mt.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return e.charAt(0)!=="/"?e:e.charAt(1)==="/"?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,i){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,i)}connect(e){this.connectClock++,e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=ht(e)),!this.conn&&(this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=t=>this.onConnError(t),this.conn.onmessage=t=>this.onConnMessage(t),this.conn.onclose=t=>this.onConnClose(t))}log(e,t,i){this.logger(e,t,i)}hasLogger(){return this.logger!==null}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}onConnOpen(){this.hasLogger()&&this.log("transport",`connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(([,e])=>e())}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.abnormalClose("heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,clearTimeout(this.heartbeatTimer),setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,i){if(!this.conn)return e&&e();this.waitForBufferDone(()=>{this.conn&&(t?this.conn.close(t,i||""):this.conn.close()),this.waitForSocketClosed(()=>{this.conn&&(this.conn.onclose=function(){},this.conn=null),e&&e()})})}waitForBufferDone(e,t=1){if(t===5||!this.conn||!this.conn.bufferedAmount){e();return}setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t)}waitForSocketClosed(e,t=1){if(t===5||!this.conn||this.conn.readyState===we.closed){e();return}setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t)}onConnClose(e){this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),clearTimeout(this.heartbeatTimer),this.closeWasClean||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(([,t])=>t(e))}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,i=this.establishedConnections;this.stateChangeCallbacks.error.forEach(([,r])=>{r(e,t,i)}),(t===this.transport||i>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(xe.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case we.connecting:return"connecting";case we.open:return"open";case we.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(([i])=>e.indexOf(i)===-1)}channel(e,t={}){let i=new Wn(e,t,this);return this.channels.push(i),i}push(e){if(this.hasLogger()){let{topic:t,event:i,payload:r,ref:n,join_ref:o}=e;this.log("push",`${t} ${i} (${o}, ${n})`,r)}this.isConnected()?this.encode(e,t=>this.conn.send(t)):this.sendBuffer.push(()=>this.encode(e,t=>this.conn.send(t)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}abnormalClose(e){this.closeWasClean=!1,this.isConnected()&&this.conn.close($n,e)}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:r,payload:n,ref:o,join_ref:s}=t;o&&o===this.pendingHeartbeatRef&&(clearTimeout(this.heartbeatTimer),this.pendingHeartbeatRef=null,setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${n.status||""} ${i} ${r} ${o&&"("+o+")"||""}`,n);for(let a=0;a<this.channels.length;a++){let l=this.channels[a];!l.isMember(i,r,n,s)||l.trigger(r,n,o,s)}for(let a=0;a<this.stateChangeCallbacks.message.length;a++){let[,l]=this.stateChangeCallbacks.message[a];l(t)}})}leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i.isJoined()||i.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}};var ir="consecutive-reloads",rr=10,Xn=[1e3,3e3],Jn=3e4,nr=["phx-click-loading","phx-change-loading","phx-submit-loading","phx-keydown-loading","phx-keyup-loading","phx-blur-loading","phx-focus-loading"],ue="data-phx-component",hi="data-phx-link",qn="track-static",zn="data-phx-link-state",Ee="data-phx-ref",or="track-uploads",$e="data-phx-upload-ref",pi="data-phx-preflighted-refs",Gn="data-phx-done-refs",sr="drop-target",mi="data-phx-active-refs",gi="phx:live-file:updated",vi="data-phx-skip",ar="data-phx-prune",lr="page-loading",ur="phx-connected",bi="phx-loading",cr="phx-no-feedback",dr="phx-error",tt="data-phx-parent-id",fr="data-phx-main",gt="data-phx-root-id",Kn="trigger-action",hr="feedback-for",pr="phx-has-focused",Yn=["text","textarea","number","email","password","search","tel","url","date","time"],mr=["checkbox","radio"],gr="phx-has-submitted",je="data-phx-session",it=`[${je}]`,vt="data-phx-static",yi="data-phx-readonly",Ft="data-phx-disabled",wi="disable-with",$t="data-phx-disable-with-restore",Vt="hook",Qn="debounce",Zn="throttle",Ei="update",eo="key",Se="phxPrivate",vr="auto-recover",Si="phx:live-socket:debug",Ci="phx:live-socket:profiling",Ai="phx:live-socket:latency-sim",to="progress",io=1,ro=200,no="phx-",oo=3e4,bt="debounce-trigger",Wt="throttled",br="debounce-prev-key",so={debounce:300,throttle:300},yr="d",Ce="s",ce="c",wr="e",Er="r",Sr="t",ao="p",lo=class{constructor(e,t,i){this.liveSocket=i,this.entry=e,this.offset=0,this.chunkSize=t,this.chunkTimer=null,this.uploadChannel=i.channel(`lvu:${e.ref}`,{token:e.metadata()})}error(e){clearTimeout(this.chunkTimer),this.uploadChannel.leave(),this.entry.error(e)}upload(){this.uploadChannel.onError(e=>this.error(e)),this.uploadChannel.join().receive("ok",e=>this.readNextChunk()).receive("error",e=>this.error(e))}isDone(){return this.offset>=this.entry.file.size}readNextChunk(){let e=new window.FileReader,t=this.entry.file.slice(this.offset,this.chunkSize+this.offset);e.onload=i=>{if(i.target.error===null)this.offset+=i.target.result.byteLength,this.pushChunk(i.target.result);else return ee("Read error: "+i.target.error)},e.readAsArrayBuffer(t)}pushChunk(e){!this.uploadChannel.isJoined()||this.uploadChannel.push("chunk",e).receive("ok",()=>{this.entry.progress(this.offset/this.entry.file.size*100),this.isDone()||(this.chunkTimer=setTimeout(()=>this.readNextChunk(),this.liveSocket.getLatencySim()||0))})}},ee=(e,t)=>console.error&&console.error(e,t),Ie=e=>{let t=typeof e;return t==="number"||t==="string"&&/^(0|[1-9]\d*)$/.test(e)};function uo(){let e=new Set,t=document.querySelectorAll("*[id]");for(let i=0,r=t.length;i<r;i++)e.has(t[i].id)?console.error(`Multiple IDs detected: ${t[i].id}. Ensure unique element ids.`):e.add(t[i].id)}var co=(e,t,i,r)=>{e.liveSocket.isDebugEnabled()&&console.log(`${e.id} ${t}: ${i} - `,r)},Ti=e=>typeof e=="function"?e:function(){return e},Xt=e=>JSON.parse(JSON.stringify(e)),yt=(e,t,i)=>{do{if(e.matches(`[${t}]`))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1&&!(i&&i.isSameNode(e)||e.matches(it)));return null},wt=e=>e!==null&&typeof e=="object"&&!(e instanceof Array),fo=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Cr=e=>{for(let t in e)return!1;return!0},Pe=(e,t)=>e&&t(e),ho=function(e,t,i,r){e.forEach(n=>{new lo(n,i.config.chunk_size,r).upload()})},Ar={canPushState(){return typeof history.pushState!="undefined"},dropLocal(e,t,i){return e.removeItem(this.localKey(t,i))},updateLocal(e,t,i,r,n){let o=this.getLocal(e,t,i),s=this.localKey(t,i),a=o===null?r:n(o);return e.setItem(s,JSON.stringify(a)),a},getLocal(e,t,i){return JSON.parse(e.getItem(this.localKey(t,i)))},updateCurrentState(e){!this.canPushState()||history.replaceState(e(history.state||{}),"",window.location.href)},pushState(e,t,i){if(this.canPushState()){if(i!==window.location.href){if(t.type=="redirect"&&t.scroll){let n=history.state||{};n.scroll=t.scroll,history.replaceState(n,"",window.location.href)}delete t.scroll,history[e+"State"](t,"",i||null);let r=this.getHashTargetEl(window.location.hash);r?r.scrollIntoView():t.type==="redirect"&&window.scroll(0,0)}}else this.redirect(i)},setCookie(e,t){document.cookie=`${e}=${t}`},getCookie(e){return document.cookie.replace(new RegExp(`(?:(?:^|.*;s*)${e}s*=s*([^;]*).*$)|^.*$`),"$1")},redirect(e,t){t&&Ar.setCookie("__phoenix_flash__",t+"; max-age=60000; path=/"),window.location=e},localKey(e,t){return`${e}-${t}`},getHashTargetEl(e){let t=e.toString().substring(1);if(t!=="")return document.getElementById(t)||document.querySelector(`a[name="${t}"]`)}},Ne=Ar,ge={byId(e){return document.getElementById(e)||ee(`no id found for ${e}`)},removeClass(e,t){e.classList.remove(t),e.classList.length===0&&e.removeAttribute("class")},all(e,t,i){if(!e)return[];let r=Array.from(e.querySelectorAll(t));return i?r.forEach(i):r},childNodeLength(e){let t=document.createElement("template");return t.innerHTML=e,t.content.childElementCount},isUploadInput(e){return e.type==="file"&&e.getAttribute($e)!==null},findUploadInputs(e){return this.all(e,`input[type="file"][${$e}]`)},findComponentNodeList(e,t){return this.filterWithinSameLiveView(this.all(e,`[${ue}="${t}"]`),e)},isPhxDestroyed(e){return!!(e.id&&ge.private(e,"destroyed"))},markPhxChildDestroyed(e){this.isPhxChild(e)&&e.setAttribute(je,""),this.putPrivate(e,"destroyed",!0)},findPhxChildrenInFragment(e,t){let i=document.createElement("template");return i.innerHTML=e,this.findPhxChildren(i.content,t)},isIgnored(e,t){return(e.getAttribute(t)||e.getAttribute("data-phx-update"))==="ignore"},isPhxUpdate(e,t,i){return e.getAttribute&&i.indexOf(e.getAttribute(t))>=0},findPhxChildren(e,t){return this.all(e,`${it}[${tt}="${t}"]`)},findParentCIDs(e,t){let i=new Set(t);return t.reduce((r,n)=>{let o=`[${ue}="${n}"] [${ue}]`;return this.filterWithinSameLiveView(this.all(e,o),e).map(s=>parseInt(s.getAttribute(ue))).forEach(s=>r.delete(s)),r},i)},filterWithinSameLiveView(e,t){return t.querySelector(it)?e.filter(i=>this.withinSameLiveView(i,t)):e},withinSameLiveView(e,t){for(;e=e.parentNode;){if(e.isSameNode(t))return!0;if(e.getAttribute(je)!==null)return!1}},private(e,t){return e[Se]&&e[Se][t]},deletePrivate(e,t){e[Se]&&delete e[Se][t]},putPrivate(e,t,i){e[Se]||(e[Se]={}),e[Se][t]=i},updatePrivate(e,t,i,r){let n=this.private(e,t);n===void 0?this.putPrivate(e,t,r(i)):this.putPrivate(e,t,r(n))},copyPrivates(e,t){t[Se]&&(e[Se]=t[Se])},putTitle(e){let t=document.querySelector("title"),{prefix:i,suffix:r}=t.dataset;document.title=`${i||""}${e}${r||""}`},debounce(e,t,i,r,n,o,s){let a=e.getAttribute(i),l=e.getAttribute(n);a===""&&(a=r),l===""&&(l=o);let d=a||l;switch(d){case null:return s();case"blur":this.once(e,"debounce-blur")&&e.addEventListener("blur",()=>s());return;default:let c=parseInt(d),f=()=>l?this.deletePrivate(e,Wt):s(),g=this.incCycle(e,bt,f);if(isNaN(c))return ee(`invalid throttle/debounce value: ${d}`);if(l){let y=!1;if(t.type==="keydown"){let v=this.private(e,br);this.putPrivate(e,br,t.key),y=v!==t.key}if(!y&&this.private(e,Wt))return!1;s(),this.putPrivate(e,Wt,!0),setTimeout(()=>this.triggerCycle(e,bt),c)}else setTimeout(()=>this.triggerCycle(e,bt,g),c);let b=e.form;b&&this.once(b,"bind-debounce")&&b.addEventListener("submit",()=>{Array.from(new FormData(b).entries(),([y])=>{let v=b.querySelector(`[name="${y}"]`);this.incCycle(v,bt),this.deletePrivate(v,Wt)})}),this.once(e,"bind-debounce")&&e.addEventListener("blur",()=>this.triggerCycle(e,bt))}},triggerCycle(e,t,i){let[r,n]=this.private(e,t);i||(i=r),i===r&&(this.incCycle(e,t),n())},once(e,t){return this.private(e,t)===!0?!1:(this.putPrivate(e,t,!0),!0)},incCycle(e,t,i=function(){}){let[r]=this.private(e,t)||[0,i];return r++,this.putPrivate(e,t,[r,i]),r},discardError(e,t,i){let r=t.getAttribute&&t.getAttribute(i),n=r&&e.querySelector(`[id="${r}"], [name="${r}"]`);!n||this.private(n,pr)||this.private(n.form,gr)||t.classList.add(cr)},showError(e,t){(e.id||e.name)&&this.all(e.form,`[${t}="${e.id}"], [${t}="${e.name}"]`,i=>{this.removeClass(i,cr)})},isPhxChild(e){return e.getAttribute&&e.getAttribute(tt)},firstPhxChild(e){return this.isPhxChild(e)?e:this.all(e,`[${tt}]`)[0]},dispatchEvent(e,t,i={}){let r=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:i});e.dispatchEvent(r)},cloneNode(e,t){if(typeof t=="undefined")return e.cloneNode(!0);{let i=e.cloneNode(!1);return i.innerHTML=t,i}},mergeAttrs(e,t,i={}){let r=i.exclude||[],n=i.isIgnored,o=t.attributes;for(let a=o.length-1;a>=0;a--){let l=o[a].name;r.indexOf(l)<0&&e.setAttribute(l,t.getAttribute(l))}let s=e.attributes;for(let a=s.length-1;a>=0;a--){let l=s[a].name;n?l.startsWith("data-")&&!t.hasAttribute(l)&&e.removeAttribute(l):t.hasAttribute(l)||e.removeAttribute(l)}},mergeFocusedInput(e,t){e instanceof HTMLSelectElement||ge.mergeAttrs(e,t,{except:["value"]}),t.readOnly?e.setAttribute("readonly",!0):e.removeAttribute("readonly")},hasSelectionRange(e){return e.setSelectionRange&&(e.type==="text"||e.type==="textarea")},restoreFocus(e,t,i){if(!ge.isTextualInput(e))return;let r=e.matches(":focus");e.readOnly&&e.blur(),r||e.focus(),this.hasSelectionRange(e)&&e.setSelectionRange(t,i)},isFormInput(e){return/^(?:input|select|textarea)$/i.test(e.tagName)&&e.type!=="button"},syncAttrsToProps(e){e instanceof HTMLInputElement&&mr.indexOf(e.type.toLocaleLowerCase())>=0&&(e.checked=e.getAttribute("checked")!==null)},isTextualInput(e){return Yn.indexOf(e.type)>=0},isNowTriggerFormExternal(e,t){return e.getAttribute&&e.getAttribute(t)!==null},syncPendingRef(e,t,i){let r=e.getAttribute(Ee);return r===null?!0:ge.isFormInput(e)||e.getAttribute(i)!==null?(ge.isUploadInput(e)&&ge.mergeAttrs(e,t,{isIgnored:!0}),ge.putPrivate(e,Ee,t),!1):(nr.forEach(n=>{e.classList.contains(n)&&t.classList.add(n)}),t.setAttribute(Ee,r),!0)},cleanChildNodes(e,t){if(ge.isPhxUpdate(e,t,["append","prepend"])){let i=[];e.childNodes.forEach(r=>{r.id||(r.nodeType===Node.TEXT_NODE&&r.nodeValue.trim()===""||ee(`only HTML element tags with an id are allowed inside containers with phx-update.

removing illegal node: "${(r.outerHTML||r.nodeValue).trim()}"

`),i.push(r))}),i.forEach(r=>r.remove())}},replaceRootContainer(e,t,i){let r=new Set(["id",je,vt,fr,gt]);if(e.tagName.toLowerCase()===t.toLowerCase())return Array.from(e.attributes).filter(n=>!r.has(n.name.toLowerCase())).forEach(n=>e.removeAttribute(n.name)),Object.keys(i).filter(n=>!r.has(n.toLowerCase())).forEach(n=>e.setAttribute(n,i[n])),e;{let n=document.createElement(t);return Object.keys(i).forEach(o=>n.setAttribute(o,i[o])),r.forEach(o=>n.setAttribute(o,e.getAttribute(o))),n.innerHTML=e.innerHTML,e.replaceWith(n),n}},getSticky(e,t,i){let r=(ge.private(e,"sticky")||[]).find(([n])=>t===n);if(r){let[n,o,s]=r;return s}else return typeof i=="function"?i():i},deleteSticky(e,t){this.updatePrivate(e,"sticky",[],i=>i.filter(([r,n])=>r!==t))},putSticky(e,t,i){let r=i(e);this.updatePrivate(e,"sticky",[],n=>{let o=n.findIndex(([s])=>t===s);return o>=0?n[o]=[t,i,r]:n.push([t,i,r]),n})},applyStickyOperations(e){let t=ge.private(e,"sticky");!t||t.forEach(([i,r,n])=>this.putSticky(e,i,r))}},m=ge,Oi=class{static isActive(e,t){let i=t._phxRef===void 0,n=e.getAttribute(mi).split(",").indexOf(te.genFileRef(t))>=0;return t.size>0&&(i||n)}static isPreflighted(e,t){return e.getAttribute(pi).split(",").indexOf(te.genFileRef(t))>=0&&this.isActive(e,t)}constructor(e,t,i){this.ref=te.genFileRef(t),this.fileEl=e,this.file=t,this.view=i,this.meta=null,this._isCancelled=!1,this._isDone=!1,this._progress=0,this._lastProgressSent=-1,this._onDone=function(){},this._onElUpdated=this.onElUpdated.bind(this),this.fileEl.addEventListener(gi,this._onElUpdated)}metadata(){return this.meta}progress(e){this._progress=Math.floor(e),this._progress>this._lastProgressSent&&(this._progress>=100?(this._progress=100,this._lastProgressSent=100,this._isDone=!0,this.view.pushFileProgress(this.fileEl,this.ref,100,()=>{te.untrackFile(this.fileEl,this.file),this._onDone()})):(this._lastProgressSent=this._progress,this.view.pushFileProgress(this.fileEl,this.ref,this._progress)))}cancel(){this._isCancelled=!0,this._isDone=!0,this._onDone()}isDone(){return this._isDone}error(e="failed"){this.view.pushFileProgress(this.fileEl,this.ref,{error:e}),te.clearFiles(this.fileEl)}onDone(e){this._onDone=()=>{this.fileEl.removeEventListener(gi,this._onElUpdated),e()}}onElUpdated(){this.fileEl.getAttribute(mi).split(",").indexOf(this.ref)===-1&&this.cancel()}toPreflightPayload(){return{last_modified:this.file.lastModified,name:this.file.name,size:this.file.size,type:this.file.type,ref:this.ref}}uploader(e){if(this.meta.uploader){let t=e[this.meta.uploader]||ee(`no uploader configured for ${this.meta.uploader}`);return{name:this.meta.uploader,callback:t}}else return{name:"channel",callback:ho}}zipPostFlight(e){this.meta=e.entries[this.ref],this.meta||ee(`no preflight upload response returned with ref ${this.ref}`,{input:this.fileEl,response:e})}},po=0,te=class{static genFileRef(e){let t=e._phxRef;return t!==void 0?t:(e._phxRef=(po++).toString(),e._phxRef)}static getEntryDataURL(e,t,i){let r=this.activeFiles(e).find(n=>this.genFileRef(n)===t);i(URL.createObjectURL(r))}static hasUploadsInProgress(e){let t=0;return m.findUploadInputs(e).forEach(i=>{i.getAttribute(pi)!==i.getAttribute(Gn)&&t++}),t>0}static serializeUploads(e){let t=this.activeFiles(e),i={};return t.forEach(r=>{let n={path:e.name},o=e.getAttribute($e);i[o]=i[o]||[],n.ref=this.genFileRef(r),n.name=r.name||n.ref,n.type=r.type,n.size=r.size,i[o].push(n)}),i}static clearFiles(e){e.value=null,e.removeAttribute($e),m.putPrivate(e,"files",[])}static untrackFile(e,t){m.putPrivate(e,"files",m.private(e,"files").filter(i=>!Object.is(i,t)))}static trackFiles(e,t){if(e.getAttribute("multiple")!==null){let i=t.filter(r=>!this.activeFiles(e).find(n=>Object.is(n,r)));m.putPrivate(e,"files",this.activeFiles(e).concat(i)),e.value=null}else m.putPrivate(e,"files",t)}static activeFileInputs(e){let t=m.findUploadInputs(e);return Array.from(t).filter(i=>i.files&&this.activeFiles(i).length>0)}static activeFiles(e){return(m.private(e,"files")||[]).filter(t=>Oi.isActive(e,t))}static inputsAwaitingPreflight(e){let t=m.findUploadInputs(e);return Array.from(t).filter(i=>this.filesAwaitingPreflight(i).length>0)}static filesAwaitingPreflight(e){return this.activeFiles(e).filter(t=>!Oi.isPreflighted(e,t))}constructor(e,t,i){this.view=t,this.onComplete=i,this._entries=Array.from(te.filesAwaitingPreflight(e)||[]).map(r=>new Oi(e,r,t)),this.numEntriesInProgress=this._entries.length}entries(){return this._entries}initAdapterUpload(e,t,i){this._entries=this._entries.map(n=>(n.zipPostFlight(e),n.onDone(()=>{this.numEntriesInProgress--,this.numEntriesInProgress===0&&this.onComplete()}),n));let r=this._entries.reduce((n,o)=>{let{name:s,callback:a}=o.uploader(i.uploaders);return n[s]=n[s]||{callback:a,entries:[]},n[s].entries.push(o),n},{});for(let n in r){let{callback:o,entries:s}=r[n];o(s,t,e,i)}}},mo={LiveFileUpload:{activeRefs(){return this.el.getAttribute(mi)},preflightedRefs(){return this.el.getAttribute(pi)},mounted(){this.preflightedWas=this.preflightedRefs()},updated(){let e=this.preflightedRefs();this.preflightedWas!==e&&(this.preflightedWas=e,e===""&&this.__view.cancelSubmit(this.el.form)),this.activeRefs()===""&&(this.el.value=null),this.el.dispatchEvent(new CustomEvent(gi))}},LiveImgPreview:{mounted(){this.ref=this.el.getAttribute("data-phx-entry-ref"),this.inputEl=document.getElementById(this.el.getAttribute($e)),te.getEntryDataURL(this.inputEl,this.ref,e=>{this.url=e,this.el.src=e})},destroyed(){URL.revokeObjectURL(this.url)}}},go=mo,vo=class{constructor(e,t,i){let r=new Set,n=new Set([...t.children].map(s=>s.id)),o=[];Array.from(e.children).forEach(s=>{if(s.id&&(r.add(s.id),n.has(s.id))){let a=s.previousElementSibling&&s.previousElementSibling.id;o.push({elementId:s.id,previousElementId:a})}}),this.containerId=t.id,this.updateType=i,this.elementsToModify=o,this.elementIdsToAdd=[...n].filter(s=>!r.has(s))}perform(){let e=m.byId(this.containerId);this.elementsToModify.forEach(t=>{t.previousElementId?Pe(document.getElementById(t.previousElementId),i=>{Pe(document.getElementById(t.elementId),r=>{r.previousElementSibling&&r.previousElementSibling.id==i.id||i.insertAdjacentElement("afterend",r)})}):Pe(document.getElementById(t.elementId),i=>{i.previousElementSibling==null||e.insertAdjacentElement("afterbegin",i)})}),this.updateType=="prepend"&&this.elementIdsToAdd.reverse().forEach(t=>{Pe(document.getElementById(t),i=>e.insertAdjacentElement("afterbegin",i))})}},Tr=11;function bo(e,t){var i=t.attributes,r,n,o,s,a;if(!(t.nodeType===Tr||e.nodeType===Tr)){for(var l=i.length-1;l>=0;l--)r=i[l],n=r.name,o=r.namespaceURI,s=r.value,o?(n=r.localName||n,a=e.getAttributeNS(o,n),a!==s&&(r.prefix==="xmlns"&&(n=r.name),e.setAttributeNS(o,n,s))):(a=e.getAttribute(n),a!==s&&e.setAttribute(n,s));for(var d=e.attributes,c=d.length-1;c>=0;c--)r=d[c],n=r.name,o=r.namespaceURI,o?(n=r.localName||n,t.hasAttributeNS(o,n)||e.removeAttributeNS(o,n)):t.hasAttribute(n)||e.removeAttribute(n)}}var Jt,yo="http://www.w3.org/1999/xhtml",ae=typeof document=="undefined"?void 0:document,wo=!!ae&&"content"in ae.createElement("template"),Eo=!!ae&&ae.createRange&&"createContextualFragment"in ae.createRange();function So(e){var t=ae.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}function Co(e){Jt||(Jt=ae.createRange(),Jt.selectNode(ae.body));var t=Jt.createContextualFragment(e);return t.childNodes[0]}function Ao(e){var t=ae.createElement("body");return t.innerHTML=e,t.childNodes[0]}function To(e){return e=e.trim(),wo?So(e):Eo?Co(e):Ao(e)}function qt(e,t){var i=e.nodeName,r=t.nodeName,n,o;return i===r?!0:(n=i.charCodeAt(0),o=r.charCodeAt(0),n<=90&&o>=97?i===r.toUpperCase():o<=90&&n>=97?r===i.toUpperCase():!1)}function Oo(e,t){return!t||t===yo?ae.createElement(e):ae.createElementNS(t,e)}function xo(e,t){for(var i=e.firstChild;i;){var r=i.nextSibling;t.appendChild(i),i=r}return t}function xi(e,t,i){e[i]!==t[i]&&(e[i]=t[i],e[i]?e.setAttribute(i,""):e.removeAttribute(i))}var Or={OPTION:function(e,t){var i=e.parentNode;if(i){var r=i.nodeName.toUpperCase();r==="OPTGROUP"&&(i=i.parentNode,r=i&&i.nodeName.toUpperCase()),r==="SELECT"&&!i.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),i.selectedIndex=-1)}xi(e,t,"selected")},INPUT:function(e,t){xi(e,t,"checked"),xi(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var i=t.value;e.value!==i&&(e.value=i);var r=e.firstChild;if(r){var n=r.nodeValue;if(n==i||!i&&n==e.placeholder)return;r.nodeValue=i}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var i=-1,r=0,n=e.firstChild,o,s;n;)if(s=n.nodeName&&n.nodeName.toUpperCase(),s==="OPTGROUP")o=n,n=o.firstChild;else{if(s==="OPTION"){if(n.hasAttribute("selected")){i=r;break}r++}n=n.nextSibling,!n&&o&&(n=o.nextSibling,o=null)}e.selectedIndex=i}}},Et=1,Po=11,xr=3,Pr=8;function Ve(){}function ko(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function Ro(e){return function(i,r,n){if(n||(n={}),typeof r=="string")if(i.nodeName==="#document"||i.nodeName==="HTML"||i.nodeName==="BODY"){var o=r;r=ae.createElement("html"),r.innerHTML=o}else r=To(r);var s=n.getNodeKey||ko,a=n.onBeforeNodeAdded||Ve,l=n.onNodeAdded||Ve,d=n.onBeforeElUpdated||Ve,c=n.onElUpdated||Ve,f=n.onBeforeNodeDiscarded||Ve,g=n.onNodeDiscarded||Ve,b=n.onBeforeElChildrenUpdated||Ve,y=n.childrenOnly===!0,v=Object.create(null),C=[];function P(A){C.push(A)}function R(A,T){if(A.nodeType===Et)for(var S=A.firstChild;S;){var O=void 0;T&&(O=s(S))?P(O):(g(S),S.firstChild&&R(S,T)),S=S.nextSibling}}function p(A,T,S){f(A)!==!1&&(T&&T.removeChild(A),g(A),R(A,S))}function u(A){if(A.nodeType===Et||A.nodeType===Po)for(var T=A.firstChild;T;){var S=s(T);S&&(v[S]=T),u(T),T=T.nextSibling}}u(i);function L(A){l(A);for(var T=A.firstChild;T;){var S=T.nextSibling,O=s(T);if(O){var U=v[O];U&&qt(T,U)?(T.parentNode.replaceChild(U,T),D(U,T)):L(T)}else L(T);T=S}}function w(A,T,S){for(;T;){var O=T.nextSibling;(S=s(T))?P(S):p(T,A,!0),T=O}}function D(A,T,S){var O=s(T);O&&delete v[O],!(!S&&(d(A,T)===!1||(e(A,T),c(A),b(A,T)===!1)))&&(A.nodeName!=="TEXTAREA"?H(A,T):Or.TEXTAREA(A,T))}function H(A,T){var S=T.firstChild,O=A.firstChild,U,J,se,Q,Z;e:for(;S;){for(Q=S.nextSibling,U=s(S);O;){if(se=O.nextSibling,S.isSameNode&&S.isSameNode(O)){S=Q,O=se;continue e}J=s(O);var re=O.nodeType,B=void 0;if(re===S.nodeType&&(re===Et?(U?U!==J&&((Z=v[U])?se===Z?B=!1:(A.insertBefore(Z,O),J?P(J):p(O,A,!0),O=Z):B=!1):J&&(B=!1),B=B!==!1&&qt(O,S),B&&D(O,S)):(re===xr||re==Pr)&&(B=!0,O.nodeValue!==S.nodeValue&&(O.nodeValue=S.nodeValue))),B){S=Q,O=se;continue e}J?P(J):p(O,A,!0),O=se}if(U&&(Z=v[U])&&qt(Z,S))A.appendChild(Z),D(Z,S);else{var de=a(S);de!==!1&&(de&&(S=de),S.actualize&&(S=S.actualize(A.ownerDocument||ae)),A.appendChild(S),L(S))}S=Q,O=se}w(A,O,J);var _e=Or[A.nodeName];_e&&_e(A,T)}var k=i,V=k.nodeType,I=r.nodeType;if(!y){if(V===Et)I===Et?qt(i,r)||(g(i),k=xo(i,Oo(r.nodeName,r.namespaceURI))):k=r;else if(V===xr||V===Pr){if(I===V)return k.nodeValue!==r.nodeValue&&(k.nodeValue=r.nodeValue),k;k=r}}if(k===r)g(i);else{if(r.isSameNode&&r.isSameNode(k))return;if(D(k,r,y),C)for(var N=0,M=C.length;N<M;N++){var ie=v[C[N]];ie&&p(ie,ie.parentNode,!1)}}return!y&&k!==i&&i.parentNode&&(k.actualize&&(k=k.actualize(i.ownerDocument||ae)),i.parentNode.replaceChild(k,i)),k}}var Lo=Ro(bo),kr=Lo,zt=class{static patchEl(e,t,i){kr(e,t,{childrenOnly:!1,onBeforeElUpdated:(r,n)=>{if(i&&i.isSameNode(r)&&m.isFormInput(r))return m.mergeFocusedInput(r,n),!1}})}constructor(e,t,i,r,n){this.view=e,this.liveSocket=e.liveSocket,this.container=t,this.id=i,this.rootID=e.root.id,this.html=r,this.targetCID=n,this.cidPatch=Ie(this.targetCID),this.callbacks={beforeadded:[],beforeupdated:[],beforephxChildAdded:[],afteradded:[],afterupdated:[],afterdiscarded:[],afterphxChildAdded:[],aftertransitionsDiscarded:[]}}before(e,t){this.callbacks[`before${e}`].push(t)}after(e,t){this.callbacks[`after${e}`].push(t)}trackBefore(e,...t){this.callbacks[`before${e}`].forEach(i=>i(...t))}trackAfter(e,...t){this.callbacks[`after${e}`].forEach(i=>i(...t))}markPrunableContentForRemoval(){m.all(this.container,"[phx-update=append] > *, [phx-update=prepend] > *",e=>{e.setAttribute(ar,"")})}perform(){let{view:e,liveSocket:t,container:i,html:r}=this,n=this.isCIDPatch()?this.targetCIDContainer(r):i;if(this.isCIDPatch()&&!n)return;let o=t.getActiveElement(),{selectionStart:s,selectionEnd:a}=o&&m.hasSelectionRange(o)?o:{},l=t.binding(Ei),d=t.binding(hr),c=t.binding(wi),f=t.binding(Kn),g=t.binding("remove"),b=[],y=[],v=[],C=[],P=null,R=t.time("premorph container prep",()=>this.buildDiffHTML(i,r,l,n));return this.trackBefore("added",i),this.trackBefore("updated",i,i),t.time("morphdom",()=>{kr(n,R,{childrenOnly:n.getAttribute(ue)===null,getNodeKey:p=>m.isPhxDestroyed(p)?null:p.id,onBeforeNodeAdded:p=>(this.trackBefore("added",p),p),onNodeAdded:p=>{p instanceof HTMLImageElement&&p.srcset?p.srcset=p.srcset:p instanceof HTMLVideoElement&&p.autoplay&&p.play(),m.isNowTriggerFormExternal(p,f)&&(P=p),m.discardError(n,p,d),m.isPhxChild(p)&&e.ownsElement(p)&&this.trackAfter("phxChildAdded",p),b.push(p)},onNodeDiscarded:p=>{m.isPhxChild(p)&&t.destroyViewByEl(p),this.trackAfter("discarded",p)},onBeforeNodeDiscarded:p=>p.getAttribute&&p.getAttribute(ar)!==null?!0:p.parentNode!==null&&m.isPhxUpdate(p.parentNode,l,["append","prepend"])&&p.id?!1:p.getAttribute&&p.getAttribute(g)?(C.push(p),!1):!this.skipCIDSibling(p),onElUpdated:p=>{m.isNowTriggerFormExternal(p,f)&&(P=p),y.push(p)},onBeforeElUpdated:(p,u)=>{if(m.cleanChildNodes(u,l),this.skipCIDSibling(u))return!1;if(m.isIgnored(p,l))return this.trackBefore("updated",p,u),m.mergeAttrs(p,u,{isIgnored:!0}),y.push(p),m.applyStickyOperations(p),!1;if(p.type==="number"&&p.validity&&p.validity.badInput)return!1;if(!m.syncPendingRef(p,u,c))return m.isUploadInput(p)&&(this.trackBefore("updated",p,u),y.push(p)),m.applyStickyOperations(p),!1;if(m.isPhxChild(u)){let w=p.getAttribute(je);return m.mergeAttrs(p,u,{exclude:[vt]}),w!==""&&p.setAttribute(je,w),p.setAttribute(gt,this.rootID),m.applyStickyOperations(p),!1}return m.copyPrivates(u,p),m.discardError(n,u,d),o&&p.isSameNode(o)&&m.isFormInput(p)?(this.trackBefore("updated",p,u),m.mergeFocusedInput(p,u),m.syncAttrsToProps(p),y.push(p),m.applyStickyOperations(p),!1):(m.isPhxUpdate(u,l,["append","prepend"])&&v.push(new vo(p,u,u.getAttribute(l))),m.syncAttrsToProps(u),m.applyStickyOperations(u),this.trackBefore("updated",p,u),!0)}})}),t.isDebugEnabled()&&uo(),v.length>0&&t.time("post-morph append/prepend restoration",()=>{v.forEach(p=>p.perform())}),t.silenceEvents(()=>m.restoreFocus(o,s,a)),m.dispatchEvent(document,"phx:update"),b.forEach(p=>this.trackAfter("added",p)),y.forEach(p=>this.trackAfter("updated",p)),C.length>0&&(t.transitionRemoves(C),t.requestDOMUpdate(()=>{C.forEach(p=>{let u=m.firstPhxChild(p);u&&t.destroyViewByEl(u),p.remove()}),this.trackAfter("transitionsDiscarded",C)})),P&&(t.disconnect(),P.submit()),!0}isCIDPatch(){return this.cidPatch}skipCIDSibling(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute(vi)!==null}targetCIDContainer(e){if(!this.isCIDPatch())return;let[t,...i]=m.findComponentNodeList(this.container,this.targetCID);return i.length===0&&m.childNodeLength(e)===1?t:t&&t.parentNode}buildDiffHTML(e,t,i,r){let n=this.isCIDPatch(),o=n&&r.getAttribute(ue)===this.targetCID.toString();if(!n||o)return t;{let s=null,a=document.createElement("template");s=m.cloneNode(r);let[l,...d]=m.findComponentNodeList(s,this.targetCID);return a.innerHTML=t,d.forEach(c=>c.remove()),Array.from(s.childNodes).forEach(c=>{c.id&&c.nodeType===Node.ELEMENT_NODE&&c.getAttribute(ue)!==this.targetCID.toString()&&(c.setAttribute(vi,""),c.innerHTML="")}),Array.from(a.content.childNodes).forEach(c=>s.insertBefore(c,l)),l.remove(),s.outerHTML}}},Rr=class{static extract(e){let{[Er]:t,[wr]:i,[Sr]:r}=e;return delete e[Er],delete e[wr],delete e[Sr],{diff:e,title:r,reply:t||null,events:i||[]}}constructor(e,t){this.viewId=e,this.rendered={},this.mergeDiff(t)}parentViewId(){return this.viewId}toString(e){return this.recursiveToString(this.rendered,this.rendered[ce],e)}recursiveToString(e,t=e[ce],i){i=i?new Set(i):null;let r={buffer:"",components:t,onlyCids:i};return this.toOutputBuffer(e,null,r),r.buffer}componentCIDs(e){return Object.keys(e[ce]||{}).map(t=>parseInt(t))}isComponentOnlyDiff(e){return e[ce]?Object.keys(e).length===1:!1}getComponent(e,t){return e[ce][t]}mergeDiff(e){let t=e[ce],i={};if(delete e[ce],this.rendered=this.mutableMerge(this.rendered,e),this.rendered[ce]=this.rendered[ce]||{},t){let r=this.rendered[ce];for(let n in t)t[n]=this.cachedFindComponent(n,t[n],r,t,i);for(let n in t)r[n]=t[n];e[ce]=t}}cachedFindComponent(e,t,i,r,n){if(n[e])return n[e];{let o,s,a=t[Ce];if(Ie(a)){let l;a>0?l=this.cachedFindComponent(a,r[a],i,r,n):l=i[-a],s=l[Ce],o=this.cloneMerge(l,t),o[Ce]=s}else o=t[Ce]!==void 0?t:this.cloneMerge(i[e]||{},t);return n[e]=o,o}}mutableMerge(e,t){return t[Ce]!==void 0?t:(this.doMutableMerge(e,t),e)}doMutableMerge(e,t){for(let i in t){let r=t[i],n=e[i];wt(r)&&r[Ce]===void 0&&wt(n)?this.doMutableMerge(n,r):e[i]=r}}cloneMerge(e,t){let i={...e,...t};for(let r in i){let n=t[r],o=e[r];wt(n)&&n[Ce]===void 0&&wt(o)&&(i[r]=this.cloneMerge(o,n))}return i}componentToString(e){return this.recursiveCIDToString(this.rendered[ce],e)}pruneCIDs(e){e.forEach(t=>delete this.rendered[ce][t])}get(){return this.rendered}isNewFingerprint(e={}){return!!e[Ce]}templateStatic(e,t){return typeof e=="number"?t[e]:e}toOutputBuffer(e,t,i){if(e[yr])return this.comprehensionToBuffer(e,t,i);let{[Ce]:r}=e;r=this.templateStatic(r,t),i.buffer+=r[0];for(let n=1;n<r.length;n++)this.dynamicToBuffer(e[n-1],t,i),i.buffer+=r[n]}comprehensionToBuffer(e,t,i){let{[yr]:r,[Ce]:n}=e;n=this.templateStatic(n,t);let o=e[ao];for(let s=0;s<r.length;s++){let a=r[s];i.buffer+=n[0];for(let l=1;l<n.length;l++)this.dynamicToBuffer(a[l-1],o,i),i.buffer+=n[l]}}dynamicToBuffer(e,t,i){typeof e=="number"?i.buffer+=this.recursiveCIDToString(i.components,e,i.onlyCids):wt(e)?this.toOutputBuffer(e,t,i):i.buffer+=e}recursiveCIDToString(e,t,i){let r=e[t]||ee(`no component for CID ${t}`,e),n=document.createElement("template");n.innerHTML=this.recursiveToString(r,e,i);let o=n.content,s=i&&!i.has(t),[a,l]=Array.from(o.childNodes).reduce(([d,c],f,g)=>f.nodeType===Node.ELEMENT_NODE?f.getAttribute(ue)?[d,!0]:(f.setAttribute(ue,t),f.id||(f.id=`${this.parentViewId()}-${t}-${g}`),s&&(f.setAttribute(vi,""),f.innerHTML=""),[!0,c]):f.nodeValue.trim()!==""?(ee(`only HTML element tags are allowed at the root of components.

got: "${f.nodeValue.trim()}"

within:
`,n.innerHTML.trim()),f.replaceWith(this.createSpan(f.nodeValue,t)),[!0,c]):(f.remove(),[d,c]),[!1,!1]);return!a&&!l?(ee(`expected at least one HTML element tag inside a component, but the component is empty:
`,n.innerHTML.trim()),this.createSpan("",t).outerHTML):(!a&&l&&ee("expected at least one HTML element tag directly inside a component, but only subcomponents were found. A component must render at least one HTML tag directly inside itself.",n.innerHTML.trim()),n.innerHTML)}createSpan(e,t){let i=document.createElement("span");return i.innerText=e,i.setAttribute(ue,t),i}},_o=1,St=class{static makeID(){return _o++}static elementID(e){return e.phxHookId}constructor(e,t,i){this.__view=e,this.__liveSocket=e.liveSocket,this.__callbacks=i,this.__listeners=new Set,this.__isDisconnected=!1,this.el=t,this.el.phxHookId=this.constructor.makeID();for(let r in this.__callbacks)this[r]=this.__callbacks[r]}__mounted(){this.mounted&&this.mounted()}__updated(){this.updated&&this.updated()}__beforeUpdate(){this.beforeUpdate&&this.beforeUpdate()}__destroyed(){this.destroyed&&this.destroyed()}__reconnected(){this.__isDisconnected&&(this.__isDisconnected=!1,this.reconnected&&this.reconnected())}__disconnected(){this.__isDisconnected=!0,this.disconnected&&this.disconnected()}pushEvent(e,t={},i=function(){}){return this.__view.pushHookEvent(null,e,t,i)}pushEventTo(e,t,i={},r=function(){}){return this.__view.withinTargets(e,(n,o)=>n.pushHookEvent(o,t,i,r))}handleEvent(e,t){let i=(r,n)=>n?e:t(r.detail);return window.addEventListener(`phx:${e}`,i),this.__listeners.add(i),i}removeHandleEvent(e){let t=e(null,!0);window.removeEventListener(`phx:${t}`,e),this.__listeners.delete(e)}upload(e,t){return this.__view.dispatchUploads(e,t)}uploadTo(e,t,i){return this.__view.withinTargets(e,r=>r.dispatchUploads(t,i))}__cleanup__(){this.__listeners.forEach(e=>this.removeHandleEvent(e))}},Do={exec(e,t,i,r,n){let[o,s]=n||[null,{}];(t.charAt(0)==="["?JSON.parse(t):[[o,s]]).forEach(([l,d])=>{l===o&&s.data&&(d.data=Object.assign(d.data||{},s.data)),this[`exec_${l}`](e,t,i,r,d)})},isVisible(e){let t=window.getComputedStyle(e);return!(t.opacity===0||t.display==="none")},exec_dispatch(e,t,i,r,{to:n,event:o,detail:s}){n?m.all(document,n,a=>m.dispatchEvent(a,o,s)):m.dispatchEvent(r,o,s)},exec_push(e,t,i,r,n){let{event:o,data:s,target:a,page_loading:l,loading:d,value:c}=n,f={page_loading:!!l,loading:d,value:c},g=e==="change"?r.form:r,b=a||g.getAttribute(i.binding("target"))||g;i.withinTargets(b,(y,v)=>{if(e==="change"){let{newCid:C,_target:P,callback:R}=n;P&&(f._target=P),y.pushInput(r,v,C,o||t,f,R)}else e==="submit"?y.submitForm(r,v,o||t,f):y.pushEvent(e,r,v,o||t,s,f)})},exec_add_class(e,t,i,r,{to:n,names:o,transition:s,time:a}){n?m.all(document,n,l=>this.addOrRemoveClasses(l,o,[],s,a,i)):this.addOrRemoveClasses(r,o,[],s,i)},exec_remove_class(e,t,i,r,{to:n,names:o,transition:s,time:a}){n?m.all(document,n,l=>this.addOrRemoveClasses(l,[],o,s,a,i)):this.addOrRemoveClasses(r,[],o,s,a,i)},exec_transition(e,t,i,r,{time:n,to:o,transition:s}){let a=o?m.all(document,o):[r],[l,d,c]=s;a.forEach(f=>{let g=()=>this.addOrRemoveClasses(f,l.concat(d),[]),b=()=>this.addOrRemoveClasses(f,c,l.concat(d));i.transition(n,g,b)})},exec_toggle(e,t,i,r,{to:n,display:o,ins:s,outs:a,time:l}){n?m.all(document,n,d=>this.toggle(e,i,d,o,s,a,l)):this.toggle(e,i,r,o,s,a,l)},exec_show(e,t,i,r,{to:n,display:o,transition:s,time:a}){n?m.all(document,n,l=>this.show(e,i,l,o,s,a)):this.show(e,i,r,s,a)},exec_hide(e,t,i,r,{to:n,display:o,transition:s,time:a}){n?m.all(document,n,l=>this.hide(e,i,l,o,s,a)):this.hide(e,i,r,o,s,a)},show(e,t,i,r,n,o){this.isVisible(i)||this.toggle(e,t,i,r,n,null,o)},hide(e,t,i,r,n,o){this.isVisible(i)&&this.toggle(e,t,i,r,null,n,o)},toggle(e,t,i,r,n,o,s){let[a,l,d]=n||[[],[],[]],[c,f,g]=o||[[],[],[]];if(a.length>0||c.length>0)if(this.isVisible(i)){let b=()=>{this.addOrRemoveClasses(i,f,a.concat(l).concat(d)),window.requestAnimationFrame(()=>{this.addOrRemoveClasses(i,c,[]),window.requestAnimationFrame(()=>this.addOrRemoveClasses(i,g,f))})};t.transition(s,b,()=>{this.addOrRemoveClasses(i,[],c.concat(g)),m.putSticky(i,"toggle",y=>y.style.display="none")})}else{if(e==="remove")return;let b=()=>{this.addOrRemoveClasses(i,l,c.concat(f).concat(g)),m.putSticky(i,"toggle",y=>y.style.display=r||"block"),window.requestAnimationFrame(()=>{this.addOrRemoveClasses(i,a,[]),window.requestAnimationFrame(()=>this.addOrRemoveClasses(i,d,l))})};t.transition(s,b,()=>{this.addOrRemoveClasses(i,[],a.concat(d))})}else{let b=this.isVisible(i)?"none":r||"block";m.putSticky(i,"toggle",y=>y.style.display=b)}},addOrRemoveClasses(e,t,i,r,n,o){let[s,a,l]=r||[[],[],[]];if(s.length>0){let d=()=>this.addOrRemoveClasses(e,a.concat(s),[]),c=()=>this.addOrRemoveClasses(e,t.concat(l),i.concat(s).concat(a));return o.transition(n,d,c)}window.requestAnimationFrame(()=>{let[d,c]=m.getSticky(e,"classes",[[],[]]),f=t.filter(v=>d.indexOf(v)<0&&!e.classList.contains(v)),g=i.filter(v=>c.indexOf(v)<0&&e.classList.contains(v)),b=d.filter(v=>i.indexOf(v)<0).concat(f),y=c.filter(v=>t.indexOf(v)<0).concat(g);m.putSticky(e,"classes",v=>(v.classList.remove(...y),v.classList.add(...b),[b,y]))})},hasAllClasses(e,t){return t.every(i=>e.classList.contains(i))},isToggledOut(e,t){return!this.isVisible(e)||this.hasAllClasses(e,t)}},Ae=Do,Pi=(e,t={})=>{let i=new FormData(e),r=[];i.forEach((o,s,a)=>{o instanceof File&&r.push(s)}),r.forEach(o=>i.delete(o));let n=new URLSearchParams;for(let[o,s]of i.entries())n.append(o,s);for(let o in t)n.append(o,t[o]);return n.toString()},Lr=class{constructor(e,t,i,r){this.liveSocket=t,this.flash=r,this.parent=i,this.root=i?i.root:this,this.el=e,this.id=this.el.id,this.ref=0,this.childJoins=0,this.loaderTimer=null,this.pendingDiffs=[],this.pruningCIDs=[],this.redirect=!1,this.href=null,this.joinCount=this.parent?this.parent.joinCount-1:0,this.joinPending=!0,this.destroyed=!1,this.joinCallback=function(n){n&&n()},this.stopCallback=function(){},this.pendingJoinOps=this.parent?null:[],this.viewHooks={},this.uploaders={},this.formSubmits=[],this.children=this.parent?null:{},this.root.children[this.id]={},this.channel=this.liveSocket.channel(`lv:${this.id}`,()=>({redirect:this.redirect?this.href:void 0,url:this.redirect?void 0:this.href||void 0,params:this.connectParams(),session:this.getSession(),static:this.getStatic(),flash:this.flash})),this.showLoader(this.liveSocket.loaderTimeout),this.bindChannel()}setHref(e){this.href=e}setRedirect(e){this.redirect=!0,this.href=e}isMain(){return this.liveSocket.main===this}connectParams(){let e=this.liveSocket.params(this.el),t=m.all(document,`[${this.binding(qn)}]`).map(i=>i.src||i.href).filter(i=>typeof i=="string");return t.length>0&&(e._track_static=t),e._mounts=this.joinCount,e}isConnected(){return this.channel.canPush()}getSession(){return this.el.getAttribute(je)}getStatic(){let e=this.el.getAttribute(vt);return e===""?null:e}destroy(e=function(){}){this.destroyAllChildren(),this.destroyed=!0,delete this.root.children[this.id],this.parent&&delete this.root.children[this.parent.id][this.id],clearTimeout(this.loaderTimer);let t=()=>{e();for(let i in this.viewHooks)this.destroyHook(this.viewHooks[i])};m.markPhxChildDestroyed(this.el),this.log("destroyed",()=>["the child has been removed from the parent"]),this.channel.leave().receive("ok",t).receive("error",t).receive("timeout",t)}setContainerClasses(...e){this.el.classList.remove(ur,bi,dr),this.el.classList.add(...e)}showLoader(e){if(clearTimeout(this.loaderTimer),e)this.loaderTimer=setTimeout(()=>this.showLoader(),e);else{for(let t in this.viewHooks)this.viewHooks[t].__disconnected();this.setContainerClasses(bi)}}hideLoader(){clearTimeout(this.loaderTimer),this.setContainerClasses(ur)}triggerReconnected(){for(let e in this.viewHooks)this.viewHooks[e].__reconnected()}log(e,t){this.liveSocket.log(this,e,t)}transition(e,t,i=function(){}){this.liveSocket.transition(e,t,i)}withinTargets(e,t){if(e instanceof HTMLElement||e instanceof SVGElement)return this.liveSocket.owner(e,i=>t(i,e));if(Ie(e))m.findComponentNodeList(this.el,e).length===0?ee(`no component found matching phx-target of ${e}`):t(this,parseInt(e));else{let i=Array.from(document.querySelectorAll(e));i.length===0&&ee(`nothing found matching the phx-target selector "${e}"`),i.forEach(r=>this.liveSocket.owner(r,n=>t(n,r)))}}applyDiff(e,t,i){this.log(e,()=>["",Xt(t)]);let{diff:r,reply:n,events:o,title:s}=Rr.extract(t);return s&&m.putTitle(s),i({diff:r,reply:n,events:o}),n}onJoin(e){let{rendered:t,container:i}=e;if(i){let[r,n]=i;this.el=m.replaceRootContainer(this.el,r,n)}this.childJoins=0,this.joinPending=!0,this.flash=null,Ne.dropLocal(this.liveSocket.localStorage,window.location.pathname,ir),this.applyDiff("mount",t,({diff:r,events:n})=>{this.rendered=new Rr(this.id,r);let o=this.renderContainer(null,"join");this.dropPendingRefs();let s=this.formsForRecovery(o);this.joinCount++,s.length>0?s.forEach(([a,l,d],c)=>{this.pushFormRecovery(a,d,f=>{c===s.length-1&&this.onJoinComplete(f,o,n)})}):this.onJoinComplete(e,o,n)})}dropPendingRefs(){m.all(this.el,`[${Ee}]`,e=>e.removeAttribute(Ee))}onJoinComplete({live_patch:e},t,i){if(this.joinCount>1||this.parent&&!this.parent.isJoinPending())return this.applyJoinPatch(e,t,i);m.findPhxChildrenInFragment(t,this.id).filter(n=>{let o=n.id&&this.el.querySelector(`[id="${n.id}"]`),s=o&&o.getAttribute(vt);return s&&n.setAttribute(vt,s),this.joinChild(n)}).length===0?this.parent?(this.root.pendingJoinOps.push([this,()=>this.applyJoinPatch(e,t,i)]),this.parent.ackJoin(this)):(this.onAllChildJoinsComplete(),this.applyJoinPatch(e,t,i)):this.root.pendingJoinOps.push([this,()=>this.applyJoinPatch(e,t,i)])}attachTrueDocEl(){this.el=m.byId(this.id),this.el.setAttribute(gt,this.root.id)}applyJoinPatch(e,t,i){this.attachTrueDocEl();let r=new zt(this,this.el,this.id,t,null);if(r.markPrunableContentForRemoval(),this.performPatch(r,!1),this.joinNewChildren(),m.all(this.el,`[${this.binding(Vt)}], [data-phx-${Vt}]`,n=>{let o=this.addHook(n);o&&o.__mounted()}),this.joinPending=!1,this.liveSocket.dispatchEvents(i),this.applyPendingUpdates(),e){let{kind:n,to:o}=e;this.liveSocket.historyPatch(o,n)}this.hideLoader(),this.joinCount>1&&this.triggerReconnected(),this.stopCallback()}triggerBeforeUpdateHook(e,t){this.liveSocket.triggerDOM("onBeforeElUpdated",[e,t]);let i=this.getHook(e),r=i&&m.isIgnored(e,this.binding(Ei));if(i&&!e.isEqualNode(t)&&!(r&&fo(e.dataset,t.dataset)))return i.__beforeUpdate(),i}performPatch(e,t){let i=[],r=!1,n=new Set;return e.after("added",o=>{this.liveSocket.triggerDOM("onNodeAdded",[o]);let s=this.addHook(o);s&&s.__mounted()}),e.after("phxChildAdded",o=>r=!0),e.before("updated",(o,s)=>{this.triggerBeforeUpdateHook(o,s)&&n.add(o.id)}),e.after("updated",o=>{n.has(o.id)&&this.getHook(o).__updated()}),e.after("discarded",o=>{o.nodeType===Node.ELEMENT_NODE&&i.push(o)}),e.after("transitionsDiscarded",o=>this.afterElementsRemoved(o,t)),e.perform(),this.afterElementsRemoved(i,t),r}afterElementsRemoved(e,t){let i=[];e.forEach(r=>{m.all(r,`[${ue}]`).concat(r).forEach(o=>{let s=this.componentID(o);Ie(s)&&i.indexOf(s)===-1&&i.push(s);let a=this.getHook(o);a&&this.destroyHook(a)})}),t&&this.maybePushComponentsDestroyed(i)}joinNewChildren(){m.findPhxChildren(this.el,this.id).forEach(e=>this.joinChild(e))}getChildById(e){return this.root.children[this.id][e]}getDescendentByEl(e){return e.id===this.id?this:this.children[e.getAttribute(tt)][e.id]}destroyDescendent(e){for(let t in this.root.children)for(let i in this.root.children[t])if(i===e)return this.root.children[t][i].destroy()}joinChild(e){if(!this.getChildById(e.id)){let i=new Lr(e,this.liveSocket,this);return this.root.children[this.id][i.id]=i,i.join(),this.childJoins++,!0}}isJoinPending(){return this.joinPending}ackJoin(e){this.childJoins--,this.childJoins===0&&(this.parent?this.parent.ackJoin(this):this.onAllChildJoinsComplete())}onAllChildJoinsComplete(){this.joinCallback(()=>{this.pendingJoinOps.forEach(([e,t])=>{e.isDestroyed()||t()}),this.pendingJoinOps=[]})}update(e,t){if(this.isJoinPending()||this.liveSocket.hasPendingLink())return this.pendingDiffs.push({diff:e,events:t});this.rendered.mergeDiff(e);let i=!1;this.rendered.isComponentOnlyDiff(e)?this.liveSocket.time("component patch complete",()=>{m.findParentCIDs(this.el,this.rendered.componentCIDs(e)).forEach(n=>{this.componentPatch(this.rendered.getComponent(e,n),n)&&(i=!0)})}):Cr(e)||this.liveSocket.time("full patch complete",()=>{let r=this.renderContainer(e,"update"),n=new zt(this,this.el,this.id,r,null);i=this.performPatch(n,!0)}),this.liveSocket.dispatchEvents(t),i&&this.joinNewChildren()}renderContainer(e,t){return this.liveSocket.time(`toString diff (${t})`,()=>{let i=this.el.tagName,r=e?this.rendered.componentCIDs(e).concat(this.pruningCIDs):null,n=this.rendered.toString(r);return`<${i}>${n}</${i}>`})}componentPatch(e,t){if(Cr(e))return!1;let i=this.rendered.componentToString(t),r=new zt(this,this.el,this.id,i,t);return this.performPatch(r,!0)}getHook(e){return this.viewHooks[St.elementID(e)]}addHook(e){if(St.elementID(e)||!e.getAttribute)return;let t=e.getAttribute(`data-phx-${Vt}`)||e.getAttribute(this.binding(Vt));if(t&&!this.ownsElement(e))return;let i=this.liveSocket.getHookCallbacks(t);if(i){e.id||ee(`no DOM ID for hook "${t}". Hooks require a unique ID on each element.`,e);let r=new St(this,e,i);return this.viewHooks[St.elementID(r.el)]=r,r}else t!==null&&ee(`unknown hook found for "${t}"`,e)}destroyHook(e){e.__destroyed(),e.__cleanup__(),delete this.viewHooks[St.elementID(e.el)]}applyPendingUpdates(){this.pendingDiffs.forEach(({diff:e,events:t})=>this.update(e,t)),this.pendingDiffs=[]}onChannel(e,t){this.liveSocket.onChannel(this.channel,e,i=>{this.isJoinPending()?this.root.pendingJoinOps.push([this,()=>t(i)]):this.liveSocket.requestDOMUpdate(()=>t(i))})}bindChannel(){this.liveSocket.onChannel(this.channel,"diff",e=>{this.liveSocket.requestDOMUpdate(()=>{this.applyDiff("update",e,({diff:t,events:i})=>this.update(t,i))})}),this.onChannel("redirect",({to:e,flash:t})=>this.onRedirect({to:e,flash:t})),this.onChannel("live_patch",e=>this.onLivePatch(e)),this.onChannel("live_redirect",e=>this.onLiveRedirect(e)),this.channel.onError(e=>this.onError(e)),this.channel.onClose(e=>this.onClose(e))}destroyAllChildren(){for(let e in this.root.children[this.id])this.getChildById(e).destroy()}onLiveRedirect(e){let{to:t,kind:i,flash:r}=e,n=this.expandURL(t);this.liveSocket.historyRedirect(n,i,r)}onLivePatch(e){let{to:t,kind:i}=e;this.href=this.expandURL(t),this.liveSocket.historyPatch(t,i)}expandURL(e){return e.startsWith("/")?`${window.location.protocol}//${window.location.host}${e}`:e}onRedirect({to:e,flash:t}){this.liveSocket.redirect(e,t)}isDestroyed(){return this.destroyed}join(e){this.parent||(this.stopCallback=this.liveSocket.withPageLoading({to:this.href,kind:"initial"})),this.joinCallback=t=>{t=t||function(){},e?e(this.joinCount,t):t()},this.liveSocket.wrapPush(this,{timeout:!1},()=>this.channel.join().receive("ok",t=>{this.isDestroyed()||this.liveSocket.requestDOMUpdate(()=>this.onJoin(t))}).receive("error",t=>!this.isDestroyed()&&this.onJoinError(t)).receive("timeout",()=>!this.isDestroyed()&&this.onJoinError({reason:"timeout"})))}onJoinError(e){return e.reason==="unauthorized"||e.reason==="stale"?(this.log("error",()=>["unauthorized live_redirect. Falling back to page request",e]),this.onRedirect({to:this.href})):((e.redirect||e.live_redirect)&&(this.joinPending=!1,this.channel.leave()),e.redirect?this.onRedirect(e.redirect):e.live_redirect?this.onLiveRedirect(e.live_redirect):(this.log("error",()=>["unable to join",e]),this.liveSocket.reloadWithJitter(this)))}onClose(e){if(!this.isDestroyed()){if(this.isJoinPending()&&document.visibilityState!=="hidden"||this.liveSocket.hasPendingLink()&&e!=="leave")return this.liveSocket.reloadWithJitter(this);this.destroyAllChildren(),this.liveSocket.dropActiveElement(this),document.activeElement&&document.activeElement.blur(),this.liveSocket.isUnloaded()&&this.showLoader(ro)}}onError(e){this.onClose(e),this.log("error",()=>["view crashed",e]),this.liveSocket.isUnloaded()||this.displayError()}displayError(){this.isMain()&&m.dispatchEvent(window,"phx:page-loading-start",{to:this.href,kind:"error"}),this.showLoader(),this.setContainerClasses(bi,dr)}pushWithReply(e,t,i,r=function(){}){if(!this.isConnected())return;let[n,[o],s]=e?e():[null,[],{}],a=function(){};return(s.page_loading||o&&o.getAttribute(this.binding(lr))!==null)&&(a=this.liveSocket.withPageLoading({kind:"element",target:o})),typeof i.cid!="number"&&delete i.cid,this.liveSocket.wrapPush(this,{timeout:!0},()=>this.channel.push(t,i,oo).receive("ok",l=>{this.liveSocket.requestDOMUpdate(()=>{let d=null;n!==null&&this.undoRefs(n),l.diff&&(d=this.applyDiff("update",l.diff,({diff:c,events:f})=>{this.update(c,f)})),l.redirect&&this.onRedirect(l.redirect),l.live_patch&&this.onLivePatch(l.live_patch),l.live_redirect&&this.onLiveRedirect(l.live_redirect),a(),r(l,d)})}))}undoRefs(e){m.all(this.el,`[${Ee}="${e}"]`,t=>{let i=t.getAttribute(Ft);t.removeAttribute(Ee),t.getAttribute(yi)!==null&&(t.readOnly=!1,t.removeAttribute(yi)),i!==null&&(t.disabled=i==="true",t.removeAttribute(Ft)),nr.forEach(o=>m.removeClass(t,o));let r=t.getAttribute($t);r!==null&&(t.innerText=r,t.removeAttribute($t));let n=m.private(t,Ee);if(n){let o=this.triggerBeforeUpdateHook(t,n);zt.patchEl(t,n,this.liveSocket.getActiveElement()),o&&o.__updated(),m.deletePrivate(t,Ee)}})}putRef(e,t,i={}){let r=this.ref++,n=this.binding(wi);return i.loading&&(e=e.concat(m.all(document,i.loading))),e.forEach(o=>{o.classList.add(`phx-${t}-loading`),o.setAttribute(Ee,r);let s=o.getAttribute(n);s!==null&&(o.getAttribute($t)||o.setAttribute($t,o.innerText),o.innerText=s)}),[r,e,i]}componentID(e){let t=e.getAttribute&&e.getAttribute(ue);return t?parseInt(t):null}targetComponentID(e,t){if(Ie(t))return t;let i=e.getAttribute(this.binding("target"));return Ie(i)?parseInt(i):t&&i!==null?this.closestComponentID(t):null}closestComponentID(e){return Ie(e)?e:e?Pe(e.closest(`[${ue}]`),t=>this.ownsElement(t)&&this.componentID(t)):null}pushHookEvent(e,t,i,r){if(!this.isConnected())return this.log("hook",()=>["unable to push hook event. LiveView not connected",t,i]),!1;let[n,o,s]=this.putRef([],"hook");return this.pushWithReply(()=>[n,o,s],"event",{type:"hook",event:t,value:i,cid:this.closestComponentID(e)},(a,l)=>r(l,n)),n}extractMeta(e,t,i){let r=this.binding("value-");for(let n=0;n<e.attributes.length;n++){t||(t={});let o=e.attributes[n].name;o.startsWith(r)&&(t[o.replace(r,"")]=e.getAttribute(o))}if(e.value!==void 0&&(t||(t={}),t.value=e.value,e.tagName==="INPUT"&&mr.indexOf(e.type)>=0&&!e.checked&&delete t.value),i){t||(t={});for(let n in i)t[n]=i[n]}return t}pushEvent(e,t,i,r,n,o={}){this.pushWithReply(()=>this.putRef([t],e,o),"event",{type:e,event:r,value:this.extractMeta(t,n,o.value),cid:this.targetComponentID(t,i)})}pushFileProgress(e,t,i,r=function(){}){this.liveSocket.withinOwners(e.form,(n,o)=>{n.pushWithReply(null,"progress",{event:e.getAttribute(n.binding(to)),ref:e.getAttribute($e),entry_ref:t,progress:i,cid:n.targetComponentID(e.form,o)},r)})}pushInput(e,t,i,r,n,o){let s,a=Ie(i)?i:this.targetComponentID(e.form,t),l=()=>this.putRef([e,e.form],"change",n),d=Pi(e.form,{_target:n._target});m.isUploadInput(e)&&e.files&&e.files.length>0&&te.trackFiles(e,Array.from(e.files)),s=te.serializeUploads(e);let c={type:"form",event:r,value:d,uploads:s,cid:a};this.pushWithReply(l,"event",c,f=>{if(m.showError(e,this.liveSocket.binding(hr)),m.isUploadInput(e)&&e.getAttribute("data-phx-auto-upload")!==null){if(te.filesAwaitingPreflight(e).length>0){let[g,b]=l();this.uploadFiles(e.form,t,g,a,y=>{o&&o(f),this.triggerAwaitingSubmit(e.form)})}}else o&&o(f)})}triggerAwaitingSubmit(e){let t=this.getScheduledSubmit(e);if(t){let[i,r,n,o]=t;this.cancelSubmit(e),o()}}getScheduledSubmit(e){return this.formSubmits.find(([t,i,r,n])=>t.isSameNode(e))}scheduleSubmit(e,t,i,r){if(this.getScheduledSubmit(e))return!0;this.formSubmits.push([e,t,i,r])}cancelSubmit(e){this.formSubmits=this.formSubmits.filter(([t,i,r])=>t.isSameNode(e)?(this.undoRefs(i),!1):!0)}pushFormSubmit(e,t,i,r,n){let o=f=>!(yt(f,`${this.binding(Ei)}=ignore`,f.form)||yt(f,"data-phx-update=ignore",f.form)),s=f=>f.hasAttribute(this.binding(wi)),a=f=>f.tagName=="BUTTON",l=f=>["INPUT","TEXTAREA","SELECT"].includes(f.tagName),d=()=>{let f=Array.from(e.elements),g=f.filter(s),b=f.filter(a).filter(o),y=f.filter(l).filter(o);return b.forEach(v=>{v.setAttribute(Ft,v.disabled),v.disabled=!0}),y.forEach(v=>{v.setAttribute(yi,v.readOnly),v.readOnly=!0,v.files&&(v.setAttribute(Ft,v.disabled),v.disabled=!0)}),e.setAttribute(this.binding(lr),""),this.putRef([e].concat(g).concat(b).concat(y),"submit",r)},c=this.targetComponentID(e,t);if(te.hasUploadsInProgress(e)){let[f,g]=d(),b=()=>this.pushFormSubmit(e,t,i,r,n);return this.scheduleSubmit(e,f,r,b)}else if(te.inputsAwaitingPreflight(e).length>0){let[f,g]=d(),b=()=>[f,g,r];this.uploadFiles(e,t,f,c,y=>{let v=Pi(e,{});this.pushWithReply(b,"event",{type:"form",event:i,value:v,cid:c},n)})}else{let f=Pi(e);this.pushWithReply(d,"event",{type:"form",event:i,value:f,cid:c},n)}}uploadFiles(e,t,i,r,n){let o=this.joinCount,s=te.activeFileInputs(e),a=s.length;s.forEach(l=>{let d=new te(l,this,()=>{a--,a===0&&n()});this.uploaders[l]=d;let c=d.entries().map(g=>g.toPreflightPayload()),f={ref:l.getAttribute($e),entries:c,cid:this.targetComponentID(l.form,t)};this.log("upload",()=>["sending preflight request",f]),this.pushWithReply(null,"allow_upload",f,g=>{if(this.log("upload",()=>["got preflight response",g]),g.error){this.undoRefs(i);let[b,y]=g.error;this.log("upload",()=>[`error for entry ${b}`,y])}else{let b=y=>{this.channel.onError(()=>{this.joinCount===o&&y()})};d.initAdapterUpload(g,b,this.liveSocket)}})})}dispatchUploads(e,t){let i=m.findUploadInputs(this.el).filter(r=>r.name===e);i.length===0?ee(`no live file inputs found matching the name "${e}"`):i.length>1?ee(`duplicate live file inputs found matching the name "${e}"`):m.dispatchEvent(i[0],or,{files:t})}pushFormRecovery(e,t,i){this.liveSocket.withinOwners(e,(r,n)=>{let o=e.elements[0],s=e.getAttribute(this.binding(vr))||e.getAttribute(this.binding("change"));Ae.exec("change",s,r,o,["push",{_target:o.name,newCid:t,callback:i}])})}pushLinkPatch(e,t,i){let r=this.liveSocket.setPendingLink(e),n=t?()=>this.putRef([t],"click"):null;this.pushWithReply(n,"live_patch",{url:e},o=>{this.liveSocket.requestDOMUpdate(()=>{o.link_redirect?this.liveSocket.replaceMain(e,null,i,r):(this.liveSocket.commitPendingLink(r)&&(this.href=e),this.applyPendingUpdates(),i&&i(r))})}).receive("timeout",()=>this.liveSocket.redirect(window.location.href))}formsForRecovery(e){if(this.joinCount===0)return[];let t=this.binding("change"),i=document.createElement("template");return i.innerHTML=e,m.all(this.el,`form[${t}]`).filter(r=>r.id&&this.ownsElement(r)).filter(r=>r.elements.length>0).filter(r=>r.getAttribute(this.binding(vr))!=="ignore").map(r=>{let n=i.content.querySelector(`form[id="${r.id}"][${t}="${r.getAttribute(t)}"]`);return n?[r,n,this.targetComponentID(n)]:[r,null,null]}).filter(([r,n,o])=>n)}maybePushComponentsDestroyed(e){let t=e.filter(i=>m.findComponentNodeList(this.el,i).length===0);t.length>0&&(this.pruningCIDs.push(...t),this.pushWithReply(null,"cids_will_destroy",{cids:t},()=>{this.pruningCIDs=this.pruningCIDs.filter(r=>t.indexOf(r)!==-1);let i=t.filter(r=>m.findComponentNodeList(this.el,r).length===0);i.length>0&&this.pushWithReply(null,"cids_destroyed",{cids:i},r=>{this.rendered.pruneCIDs(r.cids)})}))}ownsElement(e){return e.getAttribute(tt)===this.id||Pe(e.closest(it),t=>t.id)===this.id}submitForm(e,t,i,r={}){m.putPrivate(e,gr,!0),this.liveSocket.blurActiveElement(this),this.pushFormSubmit(e,t,i,r,()=>{this.liveSocket.restorePreviouslyActiveFocus()})}binding(e){return this.liveSocket.binding(e)}},_r=class{constructor(e,t,i={}){if(this.unloaded=!1,!t||t.constructor.name==="Object")throw new Error(`
      a phoenix Socket must be provided as the second argument to the LiveSocket constructor. For example:

          import {Socket} from "phoenix"
          import LiveSocket from "phoenix_live_view"
          let liveSocket = new LiveSocket("/live", Socket, {...})
      `);this.socket=new t(e,i),this.bindingPrefix=i.bindingPrefix||no,this.opts=i,this.params=Ti(i.params||{}),this.viewLogger=i.viewLogger,this.metadataCallbacks=i.metadata||{},this.defaults=Object.assign(Xt(so),i.defaults||{}),this.activeElement=null,this.prevActive=null,this.silenced=!1,this.main=null,this.linkRef=1,this.roots={},this.href=window.location.href,this.pendingLink=null,this.currentLocation=Xt(window.location),this.hooks=i.hooks||{},this.uploaders=i.uploaders||{},this.loaderTimeout=i.loaderTimeout||io,this.localStorage=i.localStorage||window.localStorage,this.sessionStorage=i.sessionStorage||window.sessionStorage,this.boundTopLevelEvents=!1,this.domCallbacks=Object.assign({onNodeAdded:Ti(),onBeforeElUpdated:Ti()},i.dom||{}),this.transitions=new jo,window.addEventListener("pagehide",r=>{this.unloaded=!0}),this.socket.onOpen(()=>{this.isUnloaded()&&window.location.reload()})}isProfileEnabled(){return this.sessionStorage.getItem(Ci)==="true"}isDebugEnabled(){return this.sessionStorage.getItem(Si)==="true"}enableDebug(){this.sessionStorage.setItem(Si,"true")}enableProfiling(){this.sessionStorage.setItem(Ci,"true")}disableDebug(){this.sessionStorage.removeItem(Si)}disableProfiling(){this.sessionStorage.removeItem(Ci)}enableLatencySim(e){this.enableDebug(),console.log("latency simulator enabled for the duration of this browser session. Call disableLatencySim() to disable"),this.sessionStorage.setItem(Ai,e)}disableLatencySim(){this.sessionStorage.removeItem(Ai)}getLatencySim(){let e=this.sessionStorage.getItem(Ai);return e?parseInt(e):null}getSocket(){return this.socket}connect(){let e=()=>{this.joinRootViews()&&(this.bindTopLevelEvents(),this.socket.connect())};["complete","loaded","interactive"].indexOf(document.readyState)>=0?e():document.addEventListener("DOMContentLoaded",()=>e())}disconnect(e){this.socket.disconnect(e)}execJS(e,t,i=null){this.owner(e,r=>Ae.exec(i,t,r,e))}triggerDOM(e,t){this.domCallbacks[e](...t)}time(e,t){if(!this.isProfileEnabled()||!console.time)return t();console.time(e);let i=t();return console.timeEnd(e),i}log(e,t,i){if(this.viewLogger){let[r,n]=i();this.viewLogger(e,t,r,n)}else if(this.isDebugEnabled()){let[r,n]=i();co(e,t,r,n)}}requestDOMUpdate(e){this.transitions.after(e)}transition(e,t,i=function(){}){this.transitions.addTransition(e,t,i)}onChannel(e,t,i){e.on(t,r=>{let n=this.getLatencySim();n?(console.log(`simulating ${n}ms of latency from server to client`),setTimeout(()=>i(r),n)):i(r)})}wrapPush(e,t,i){let r=this.getLatencySim(),n=e.joinCount;if(!r)return t.timeout?i().receive("timeout",()=>{e.joinCount===n&&!e.isDestroyed()&&this.reloadWithJitter(e,()=>{this.log(e,"timeout",()=>["received timeout while communicating with server. Falling back to hard refresh for recovery"])})}):i();console.log(`simulating ${r}ms of latency from client to server`);let o={receives:[],receive(s,a){this.receives.push([s,a])}};return setTimeout(()=>{e.isDestroyed()||o.receives.reduce((s,[a,l])=>s.receive(a,l),i())},r),o}reloadWithJitter(e,t){e.destroy(),this.disconnect();let[i,r]=Xn,n=Math.floor(Math.random()*(r-i+1))+i,o=Ne.updateLocal(this.localStorage,window.location.pathname,ir,0,s=>s+1);t?t():this.log(e,"join",()=>[`encountered ${o} consecutive reloads`]),o>rr&&(this.log(e,"join",()=>[`exceeded ${rr} consecutive reloads. Entering failsafe mode`]),n=Jn),setTimeout(()=>{this.hasPendingLink()?window.location=this.pendingLink:window.location.reload()},n)}getHookCallbacks(e){return e&&e.startsWith("Phoenix.")?go[e.split(".")[1]]:this.hooks[e]}isUnloaded(){return this.unloaded}isConnected(){return this.socket.isConnected()}getBindingPrefix(){return this.bindingPrefix}binding(e){return`${this.getBindingPrefix()}${e}`}channel(e,t){return this.socket.channel(e,t)}joinRootViews(){let e=!1;return m.all(document,`${it}:not([${tt}])`,t=>{if(!this.getRootById(t.id)){let i=this.newRootView(t);i.setHref(this.getHref()),i.join(),t.getAttribute(fr)&&(this.main=i)}e=!0}),e}redirect(e,t){this.disconnect(),Ne.redirect(e,t)}replaceMain(e,t,i=null,r=this.setPendingLink(e)){let n=this.main.el,o=m.cloneNode(n,"");this.main.showLoader(this.loaderTimeout),this.main.destroy(),this.main=this.newRootView(o,t),this.main.setRedirect(e),this.transitionRemoves(),this.main.join((s,a)=>{s===1&&this.commitPendingLink(r)&&this.requestDOMUpdate(()=>{n.replaceWith(o),i&&i(),a()})})}transitionRemoves(e){let t=this.binding("remove");e=e||m.all(document,`[${t}]`),e.forEach(i=>{document.body.contains(i)&&this.execJS(i,i.getAttribute(t),"remove")})}isPhxView(e){return e.getAttribute&&e.getAttribute(je)!==null}newRootView(e,t){let i=new Lr(e,this,null,t);return this.roots[i.id]=i,i}owner(e,t){let i=Pe(e.closest(it),r=>this.getViewByEl(r))||this.main;i&&t(i)}withinOwners(e,t){this.owner(e,i=>t(i,e))}getViewByEl(e){let t=e.getAttribute(gt);return Pe(this.getRootById(t),i=>i.getDescendentByEl(e))}getRootById(e){return this.roots[e]}destroyAllViews(){for(let e in this.roots)this.roots[e].destroy(),delete this.roots[e]}destroyViewByEl(e){let t=this.getRootById(e.getAttribute(gt));t&&t.destroyDescendent(e.id)}setActiveElement(e){if(this.activeElement===e)return;this.activeElement=e;let t=()=>{e===this.activeElement&&(this.activeElement=null),e.removeEventListener("mouseup",this),e.removeEventListener("touchend",this)};e.addEventListener("mouseup",t),e.addEventListener("touchend",t)}getActiveElement(){return document.activeElement===document.body?this.activeElement||document.activeElement:document.activeElement||document.body}dropActiveElement(e){this.prevActive&&e.ownsElement(this.prevActive)&&(this.prevActive=null)}restorePreviouslyActiveFocus(){this.prevActive&&this.prevActive!==document.body&&this.prevActive.focus()}blurActiveElement(){this.prevActive=this.getActiveElement(),this.prevActive!==document.body&&this.prevActive.blur()}bindTopLevelEvents(){this.boundTopLevelEvents||(this.boundTopLevelEvents=!0,document.body.addEventListener("click",function(){}),window.addEventListener("pageshow",e=>{e.persisted&&(this.getSocket().disconnect(),this.withPageLoading({to:window.location.href,kind:"redirect"}),window.location.reload())},!0),this.bindNav(),this.bindClicks(),this.bindForms(),this.bind({keyup:"keyup",keydown:"keydown"},(e,t,i,r,n,o)=>{let s=r.getAttribute(this.binding(eo)),a=e.key&&e.key.toLowerCase();if(s&&s.toLowerCase()!==a)return;let l={key:e.key,...this.eventMeta(t,e,r)};Ae.exec(t,n,i,r,["push",{data:l}])}),this.bind({blur:"focusout",focus:"focusin"},(e,t,i,r,n,o)=>{if(!o){let s={key:e.key,...this.eventMeta(t,e,r)};Ae.exec(t,n,i,r,["push",{data:s}])}}),this.bind({blur:"blur",focus:"focus"},(e,t,i,r,n,o,s)=>{if(s==="window"){let a=this.eventMeta(t,e,r);Ae.exec(t,o,i,r,["push",{data:a}])}}),window.addEventListener("dragover",e=>e.preventDefault()),window.addEventListener("drop",e=>{e.preventDefault();let t=Pe(yt(e.target,this.binding(sr)),n=>n.getAttribute(this.binding(sr))),i=t&&document.getElementById(t),r=Array.from(e.dataTransfer.files||[]);!i||i.disabled||r.length===0||!(i.files instanceof FileList)||(te.trackFiles(i,r),i.dispatchEvent(new Event("input",{bubbles:!0})))}),this.on(or,e=>{let t=e.target;if(!m.isUploadInput(t))return;let i=Array.from(e.detail.files||[]).filter(r=>r instanceof File||r instanceof Blob);te.trackFiles(t,i),t.dispatchEvent(new Event("input",{bubbles:!0}))}))}eventMeta(e,t,i){let r=this.metadataCallbacks[e];return r?r(t,i):{}}setPendingLink(e){return this.linkRef++,this.pendingLink=e,this.linkRef}commitPendingLink(e){return this.linkRef!==e?!1:(this.href=this.pendingLink,this.pendingLink=null,!0)}getHref(){return this.href}hasPendingLink(){return!!this.pendingLink}bind(e,t){for(let i in e){let r=e[i];this.on(r,n=>{let o=this.binding(i),s=this.binding(`window-${i}`),a=n.target.getAttribute&&n.target.getAttribute(o);a?this.debounce(n.target,n,()=>{this.withinOwners(n.target,l=>{t(n,i,l,n.target,a,null)})}):m.all(document,`[${s}]`,l=>{let d=l.getAttribute(s);this.debounce(l,n,()=>{this.withinOwners(l,c=>{t(n,i,c,l,d,"window")})})})})}}bindClicks(){this.bindClick("click","click",!1),this.bindClick("mousedown","capture-click",!0)}bindClick(e,t,i){let r=this.binding(t);window.addEventListener(e,n=>{if(!this.isConnected())return;let o=null;i?o=n.target.matches(`[${r}]`)?n.target:n.target.querySelector(`[${r}]`):(o=yt(n.target,r),this.dispatchClickAway(n));let s=o&&o.getAttribute(r);!s||(o.getAttribute("href")==="#"&&n.preventDefault(),this.debounce(o,n,()=>{this.withinOwners(o,a=>{Ae.exec("click",s,a,o,["push",{data:this.eventMeta("click",n,o)}])})}))},i)}dispatchClickAway(e){let t=this.binding("click-away");m.all(document,`[${t}]`,i=>{i.isSameNode(e.target)||i.contains(e.target)||this.withinOwners(e.target,r=>{let n=i.getAttribute(t);Ae.isVisible(i)&&Ae.exec("click",n,r,e.target,["push",{data:this.eventMeta("click",e,e.target)}])})})}bindNav(){if(!Ne.canPushState())return;history.scrollRestoration&&(history.scrollRestoration="manual");let e=null;window.addEventListener("scroll",t=>{clearTimeout(e),e=setTimeout(()=>{Ne.updateCurrentState(i=>Object.assign(i,{scroll:window.scrollY}))},100)}),window.addEventListener("popstate",t=>{if(!this.registerNewLocation(window.location))return;let{type:i,id:r,root:n,scroll:o}=t.state||{},s=window.location.href;this.requestDOMUpdate(()=>{this.main.isConnected()&&i==="patch"&&r===this.main.id?this.main.pushLinkPatch(s,null):this.replaceMain(s,null,()=>{n&&this.replaceRootHistory(),typeof o=="number"&&setTimeout(()=>{window.scrollTo(0,o)},0)})})},!1),window.addEventListener("click",t=>{let i=yt(t.target,hi),r=i&&i.getAttribute(hi),n=t.metaKey||t.ctrlKey||t.button===1;if(!r||!this.isConnected()||!this.main||n)return;let o=i.href,s=i.getAttribute(zn);t.preventDefault(),this.pendingLink!==o&&this.requestDOMUpdate(()=>{if(r==="patch")this.pushHistoryPatch(o,s,i);else if(r==="redirect")this.historyRedirect(o,s);else throw new Error(`expected ${hi} to be "patch" or "redirect", got: ${r}`)})},!1)}dispatchEvent(e,t={}){m.dispatchEvent(window,`phx:${e}`,t)}dispatchEvents(e){e.forEach(([t,i])=>this.dispatchEvent(t,i))}withPageLoading(e,t){m.dispatchEvent(window,"phx:page-loading-start",e);let i=()=>m.dispatchEvent(window,"phx:page-loading-stop",e);return t?t(i):i}pushHistoryPatch(e,t,i){this.withPageLoading({to:e,kind:"patch"},r=>{this.main.pushLinkPatch(e,i,n=>{this.historyPatch(e,t,n),r()})})}historyPatch(e,t,i=this.setPendingLink(e)){!this.commitPendingLink(i)||(Ne.pushState(t,{type:"patch",id:this.main.id},e),this.registerNewLocation(window.location))}historyRedirect(e,t,i){let r=window.scrollY;this.withPageLoading({to:e,kind:"redirect"},n=>{this.replaceMain(e,i,()=>{Ne.pushState(t,{type:"redirect",id:this.main.id,scroll:r},e),this.registerNewLocation(window.location),n()})})}replaceRootHistory(){Ne.pushState("replace",{root:!0,type:"patch",id:this.main.id})}registerNewLocation(e){let{pathname:t,search:i}=this.currentLocation;return t+i===e.pathname+e.search?!1:(this.currentLocation=Xt(e),!0)}bindForms(){let e=0;this.on("submit",t=>{let i=t.target.getAttribute(this.binding("submit"));!i||(t.preventDefault(),t.target.disabled=!0,this.withinOwners(t.target,r=>{Ae.exec("submit",i,r,t.target,["push",{}])}))},!1);for(let t of["change","input"])this.on(t,i=>{let r=i.target,n=r.form&&r.form.getAttribute(this.binding("change"));if(!n||r.type==="number"&&r.validity&&r.validity.badInput)return;let o=e;e++;let{at:s,type:a}=m.private(r,"prev-iteration")||{};s===o-1&&t!==a||(m.putPrivate(r,"prev-iteration",{at:o,type:t}),this.debounce(r,i,()=>{this.withinOwners(r.form,l=>{m.putPrivate(r,pr,!0),m.isTextualInput(r)||this.setActiveElement(r),Ae.exec("change",n,l,r,["push",{_target:i.target.name}])})}))},!1)}debounce(e,t,i){let r=this.binding(Qn),n=this.binding(Zn),o=this.defaults.debounce.toString(),s=this.defaults.throttle.toString();m.debounce(e,t,r,o,n,s,i)}silenceEvents(e){this.silenced=!0,e(),this.silenced=!1}on(e,t){window.addEventListener(e,i=>{this.silenced||t(i)})}},jo=class{constructor(){this.transitions=new Set,this.pendingOps=[],this.reset()}reset(){this.transitions.forEach(e=>{cancelTimeout(e),this.transitions.delete(e)}),this.flushPendingOps()}after(e){this.size()===0?e():this.pushPendingOp(e)}addTransition(e,t,i){t();let r=setTimeout(()=>{this.transitions.delete(r),i(),this.size()===0&&this.flushPendingOps()},e);this.transitions.add(r)}pushPendingOp(e){this.pendingOps.push(e)}size(){return this.transitions.size}flushPendingOps(){this.pendingOps.forEach(e=>e()),this.pendingOps=[]}};var F="top",q="bottom",W="right",X="left",Gt="auto",Me=[F,q,W,X],ke="start",We="end",Dr="clippingParents",Kt="viewport",rt="popper",jr="reference",ki=Me.reduce(function(e,t){return e.concat([t+"-"+ke,t+"-"+We])},[]),Yt=[].concat(Me,[Gt]).reduce(function(e,t){return e.concat([t,t+"-"+ke,t+"-"+We])},[]),Io="beforeRead",No="read",Mo="afterRead",Ho="beforeMain",Bo="main",Uo="afterMain",Fo="beforeWrite",$o="write",Vo="afterWrite",Ir=[Io,No,Mo,Ho,Bo,Uo,Fo,$o,Vo];function z(e){return e?(e.nodeName||"").toLowerCase():null}function $(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Re(e){var t=$(e).Element;return e instanceof t||e instanceof Element}function G(e){var t=$(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Qt(e){if(typeof ShadowRoot=="undefined")return!1;var t=$(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Wo(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},n=t.attributes[i]||{},o=t.elements[i];!G(o)||!z(o)||(Object.assign(o.style,r),Object.keys(n).forEach(function(s){var a=n[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Xo(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var n=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),a=s.reduce(function(l,d){return l[d]="",l},{});!G(n)||!z(n)||(Object.assign(n.style,a),Object.keys(o).forEach(function(l){n.removeAttribute(l)}))})}}var Ct={name:"applyStyles",enabled:!0,phase:"write",fn:Wo,effect:Xo,requires:["computeStyles"]};function K(e){return e.split("-")[0]}function he(e,t){t===void 0&&(t=!1);var i=e.getBoundingClientRect(),r=1,n=1;return{width:i.width/r,height:i.height/n,top:i.top/n,right:i.right/r,bottom:i.bottom/n,left:i.left/r,x:i.left/r,y:i.top/n}}function Xe(e){var t=he(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function At(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Qt(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function oe(e){return $(e).getComputedStyle(e)}function Ri(e){return["table","td","th"].indexOf(z(e))>=0}function Y(e){return((Re(e)?e.ownerDocument:e.document)||window.document).documentElement}function Le(e){return z(e)==="html"?e:e.assignedSlot||e.parentNode||(Qt(e)?e.host:null)||Y(e)}function Nr(e){return!G(e)||oe(e).position==="fixed"?null:e.offsetParent}function Jo(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&G(e)){var r=oe(e);if(r.position==="fixed")return null}for(var n=Le(e);G(n)&&["html","body"].indexOf(z(n))<0;){var o=oe(n);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return n;n=n.parentNode}return null}function ve(e){for(var t=$(e),i=Nr(e);i&&Ri(i)&&oe(i).position==="static";)i=Nr(i);return i&&(z(i)==="html"||z(i)==="body"&&oe(i).position==="static")?t:i||Jo(e)||t}function Je(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var pe=Math.max,He=Math.min,Tt=Math.round;function qe(e,t,i){return pe(e,He(t,i))}function Ot(){return{top:0,right:0,bottom:0,left:0}}function xt(e){return Object.assign({},Ot(),e)}function Pt(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var qo=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,xt(typeof t!="number"?t:Pt(t,Me))};function zo(e){var t,i=e.state,r=e.name,n=e.options,o=i.elements.arrow,s=i.modifiersData.popperOffsets,a=K(i.placement),l=Je(a),d=[X,W].indexOf(a)>=0,c=d?"height":"width";if(!(!o||!s)){var f=qo(n.padding,i),g=Xe(o),b=l==="y"?F:X,y=l==="y"?q:W,v=i.rects.reference[c]+i.rects.reference[l]-s[l]-i.rects.popper[c],C=s[l]-i.rects.reference[l],P=ve(o),R=P?l==="y"?P.clientHeight||0:P.clientWidth||0:0,p=v/2-C/2,u=f[b],L=R-g[c]-f[y],w=R/2-g[c]/2+p,D=qe(u,w,L),H=l;i.modifiersData[r]=(t={},t[H]=D,t.centerOffset=D-w,t)}}function Go(e){var t=e.state,i=e.options,r=i.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||!At(t.elements.popper,n)||(t.elements.arrow=n))}var Mr={name:"arrow",enabled:!0,phase:"main",fn:zo,effect:Go,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function me(e){return e.split("-")[1]}var Ko={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yo(e){var t=e.x,i=e.y,r=window,n=r.devicePixelRatio||1;return{x:Tt(Tt(t*n)/n)||0,y:Tt(Tt(i*n)/n)||0}}function Hr(e){var t,i=e.popper,r=e.popperRect,n=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,d=e.adaptive,c=e.roundOffsets,f=c===!0?Yo(s):typeof c=="function"?c(s):s,g=f.x,b=g===void 0?0:g,y=f.y,v=y===void 0?0:y,C=s.hasOwnProperty("x"),P=s.hasOwnProperty("y"),R=X,p=F,u=window;if(d){var L=ve(i),w="clientHeight",D="clientWidth";L===$(i)&&(L=Y(i),oe(L).position!=="static"&&a==="absolute"&&(w="scrollHeight",D="scrollWidth")),L=L,(n===F||(n===X||n===W)&&o===We)&&(p=q,v-=L[w]-r.height,v*=l?1:-1),(n===X||(n===F||n===q)&&o===We)&&(R=W,b-=L[D]-r.width,b*=l?1:-1)}var H=Object.assign({position:a},d&&Ko);if(l){var k;return Object.assign({},H,(k={},k[p]=P?"0":"",k[R]=C?"0":"",k.transform=(u.devicePixelRatio||1)<=1?"translate("+b+"px, "+v+"px)":"translate3d("+b+"px, "+v+"px, 0)",k))}return Object.assign({},H,(t={},t[p]=P?v+"px":"",t[R]=C?b+"px":"",t.transform="",t))}function Qo(e){var t=e.state,i=e.options,r=i.gpuAcceleration,n=r===void 0?!0:r,o=i.adaptive,s=o===void 0?!0:o,a=i.roundOffsets,l=a===void 0?!0:a;if(!1)var d;var c={placement:K(t.placement),variation:me(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Hr(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Hr(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Br={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qo,data:{}};var Zt={passive:!0};function Zo(e){var t=e.state,i=e.instance,r=e.options,n=r.scroll,o=n===void 0?!0:n,s=r.resize,a=s===void 0?!0:s,l=$(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&d.forEach(function(c){c.addEventListener("scroll",i.update,Zt)}),a&&l.addEventListener("resize",i.update,Zt),function(){o&&d.forEach(function(c){c.removeEventListener("scroll",i.update,Zt)}),a&&l.removeEventListener("resize",i.update,Zt)}}var Ur={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Zo,data:{}};var es={left:"right",right:"left",bottom:"top",top:"bottom"};function nt(e){return e.replace(/left|right|bottom|top/g,function(t){return es[t]})}var ts={start:"end",end:"start"};function ei(e){return e.replace(/start|end/g,function(t){return ts[t]})}function ze(e){var t=$(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function Ge(e){return he(Y(e)).left+ze(e).scrollLeft}function Li(e){var t=$(e),i=Y(e),r=t.visualViewport,n=i.clientWidth,o=i.clientHeight,s=0,a=0;return r&&(n=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:n,height:o,x:s+Ge(e),y:a}}function _i(e){var t,i=Y(e),r=ze(e),n=(t=e.ownerDocument)==null?void 0:t.body,o=pe(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=pe(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-r.scrollLeft+Ge(e),l=-r.scrollTop;return oe(n||i).direction==="rtl"&&(a+=pe(i.clientWidth,n?n.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Ke(e){var t=oe(e),i=t.overflow,r=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+r)}function ti(e){return["html","body","#document"].indexOf(z(e))>=0?e.ownerDocument.body:G(e)&&Ke(e)?e:ti(Le(e))}function Be(e,t){var i;t===void 0&&(t=[]);var r=ti(e),n=r===((i=e.ownerDocument)==null?void 0:i.body),o=$(r),s=n?[o].concat(o.visualViewport||[],Ke(r)?r:[]):r,a=t.concat(s);return n?a:a.concat(Be(Le(s)))}function ot(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function is(e){var t=he(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Fr(e,t){return t===Kt?ot(Li(e)):G(t)?is(t):ot(_i(Y(e)))}function rs(e){var t=Be(Le(e)),i=["absolute","fixed"].indexOf(oe(e).position)>=0,r=i&&G(e)?ve(e):e;return Re(r)?t.filter(function(n){return Re(n)&&At(n,r)&&z(n)!=="body"}):[]}function Di(e,t,i){var r=t==="clippingParents"?rs(e):[].concat(t),n=[].concat(r,[i]),o=n[0],s=n.reduce(function(a,l){var d=Fr(e,l);return a.top=pe(d.top,a.top),a.right=He(d.right,a.right),a.bottom=He(d.bottom,a.bottom),a.left=pe(d.left,a.left),a},Fr(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function kt(e){var t=e.reference,i=e.element,r=e.placement,n=r?K(r):null,o=r?me(r):null,s=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(n){case F:l={x:s,y:t.y-i.height};break;case q:l={x:s,y:t.y+t.height};break;case W:l={x:t.x+t.width,y:a};break;case X:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var d=n?Je(n):null;if(d!=null){var c=d==="y"?"height":"width";switch(o){case ke:l[d]=l[d]-(t[c]/2-i[c]/2);break;case We:l[d]=l[d]+(t[c]/2-i[c]/2);break;default:}}return l}function be(e,t){t===void 0&&(t={});var i=t,r=i.placement,n=r===void 0?e.placement:r,o=i.boundary,s=o===void 0?Dr:o,a=i.rootBoundary,l=a===void 0?Kt:a,d=i.elementContext,c=d===void 0?rt:d,f=i.altBoundary,g=f===void 0?!1:f,b=i.padding,y=b===void 0?0:b,v=xt(typeof y!="number"?y:Pt(y,Me)),C=c===rt?jr:rt,P=e.rects.popper,R=e.elements[g?C:c],p=Di(Re(R)?R:R.contextElement||Y(e.elements.popper),s,l),u=he(e.elements.reference),L=kt({reference:u,element:P,strategy:"absolute",placement:n}),w=ot(Object.assign({},P,L)),D=c===rt?w:u,H={top:p.top-D.top+v.top,bottom:D.bottom-p.bottom+v.bottom,left:p.left-D.left+v.left,right:D.right-p.right+v.right},k=e.modifiersData.offset;if(c===rt&&k){var V=k[n];Object.keys(H).forEach(function(I){var N=[W,q].indexOf(I)>=0?1:-1,M=[F,q].indexOf(I)>=0?"y":"x";H[I]+=V[M]*N})}return H}function ji(e,t){t===void 0&&(t={});var i=t,r=i.placement,n=i.boundary,o=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,d=l===void 0?Yt:l,c=me(r),f=c?a?ki:ki.filter(function(y){return me(y)===c}):Me,g=f.filter(function(y){return d.indexOf(y)>=0});g.length===0&&(g=f);var b=g.reduce(function(y,v){return y[v]=be(e,{placement:v,boundary:n,rootBoundary:o,padding:s})[K(v)],y},{});return Object.keys(b).sort(function(y,v){return b[y]-b[v]})}function ns(e){if(K(e)===Gt)return[];var t=nt(e);return[ei(e),t,ei(t)]}function os(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var n=i.mainAxis,o=n===void 0?!0:n,s=i.altAxis,a=s===void 0?!0:s,l=i.fallbackPlacements,d=i.padding,c=i.boundary,f=i.rootBoundary,g=i.altBoundary,b=i.flipVariations,y=b===void 0?!0:b,v=i.allowedAutoPlacements,C=t.options.placement,P=K(C),R=P===C,p=l||(R||!y?[nt(C)]:ns(C)),u=[C].concat(p).reduce(function(re,B){return re.concat(K(B)===Gt?ji(t,{placement:B,boundary:c,rootBoundary:f,padding:d,flipVariations:y,allowedAutoPlacements:v}):B)},[]),L=t.rects.reference,w=t.rects.popper,D=new Map,H=!0,k=u[0],V=0;V<u.length;V++){var I=u[V],N=K(I),M=me(I)===ke,ie=[F,q].indexOf(N)>=0,A=ie?"width":"height",T=be(t,{placement:I,boundary:c,rootBoundary:f,altBoundary:g,padding:d}),S=ie?M?W:X:M?q:F;L[A]>w[A]&&(S=nt(S));var O=nt(S),U=[];if(o&&U.push(T[N]<=0),a&&U.push(T[S]<=0,T[O]<=0),U.every(function(re){return re})){k=I,H=!1;break}D.set(I,U)}if(H)for(var J=y?3:1,se=function(B){var de=u.find(function(_e){var De=D.get(_e);if(De)return De.slice(0,B).every(function(Qe){return Qe})});if(de)return k=de,"break"},Q=J;Q>0;Q--){var Z=se(Q);if(Z==="break")break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}}var $r={name:"flip",enabled:!0,phase:"main",fn:os,requiresIfExists:["offset"],data:{_skip:!1}};function Vr(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Wr(e){return[F,W,q,X].some(function(t){return e[t]>=0})}function ss(e){var t=e.state,i=e.name,r=t.rects.reference,n=t.rects.popper,o=t.modifiersData.preventOverflow,s=be(t,{elementContext:"reference"}),a=be(t,{altBoundary:!0}),l=Vr(s,r),d=Vr(a,n,o),c=Wr(l),f=Wr(d);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var Xr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ss};function as(e,t,i){var r=K(e),n=[X,F].indexOf(r)>=0?-1:1,o=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,s=o[0],a=o[1];return s=s||0,a=(a||0)*n,[X,W].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function ls(e){var t=e.state,i=e.options,r=e.name,n=i.offset,o=n===void 0?[0,0]:n,s=Yt.reduce(function(c,f){return c[f]=as(f,t.rects,o),c},{}),a=s[t.placement],l=a.x,d=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=s}var Jr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ls};function us(e){var t=e.state,i=e.name;t.modifiersData[i]=kt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var qr={name:"popperOffsets",enabled:!0,phase:"read",fn:us,data:{}};function Ii(e){return e==="x"?"y":"x"}function cs(e){var t=e.state,i=e.options,r=e.name,n=i.mainAxis,o=n===void 0?!0:n,s=i.altAxis,a=s===void 0?!1:s,l=i.boundary,d=i.rootBoundary,c=i.altBoundary,f=i.padding,g=i.tether,b=g===void 0?!0:g,y=i.tetherOffset,v=y===void 0?0:y,C=be(t,{boundary:l,rootBoundary:d,padding:f,altBoundary:c}),P=K(t.placement),R=me(t.placement),p=!R,u=Je(P),L=Ii(u),w=t.modifiersData.popperOffsets,D=t.rects.reference,H=t.rects.popper,k=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,V={x:0,y:0};if(!!w){if(o||a){var I=u==="y"?F:X,N=u==="y"?q:W,M=u==="y"?"height":"width",ie=w[u],A=w[u]+C[I],T=w[u]-C[N],S=b?-H[M]/2:0,O=R===ke?D[M]:H[M],U=R===ke?-H[M]:-D[M],J=t.elements.arrow,se=b&&J?Xe(J):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ot(),Z=Q[I],re=Q[N],B=qe(0,D[M],se[M]),de=p?D[M]/2-S-B-Z-k:O-B-Z-k,_e=p?-D[M]/2+S+B+re+k:U+B+re+k,De=t.elements.arrow&&ve(t.elements.arrow),Qe=De?u==="y"?De.clientTop||0:De.clientLeft||0:0,Oe=t.modifiersData.offset?t.modifiersData.offset[t.placement][u]:0,at=w[u]+de-Oe-Qe,lt=w[u]+_e-Oe;if(o){var ut=qe(b?He(A,at):A,ie,b?pe(T,lt):T);w[u]=ut,V[u]=ut-ie}if(a){var _t=u==="x"?F:X,Dt=u==="x"?q:W,Ue=w[L],ct=Ue+C[_t],dt=Ue-C[Dt],ft=qe(b?He(ct,at):ct,Ue,b?pe(dt,lt):dt);w[L]=ft,V[L]=ft-Ue}}t.modifiersData[r]=V}}var zr={name:"preventOverflow",enabled:!0,phase:"main",fn:cs,requiresIfExists:["offset"]};function Ni(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Mi(e){return e===$(e)||!G(e)?ze(e):Ni(e)}function ds(e){var t=e.getBoundingClientRect(),i=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return i!==1||r!==1}function Hi(e,t,i){i===void 0&&(i=!1);var r=G(t),n=G(t)&&ds(t),o=Y(t),s=he(e,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((z(t)!=="body"||Ke(o))&&(a=Mi(t)),G(t)?(l=he(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Ge(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function fs(e){var t=new Map,i=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function n(o){i.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&n(l)}}),r.push(o)}return e.forEach(function(o){i.has(o.name)||n(o)}),r}function Bi(e){var t=fs(e);return Ir.reduce(function(i,r){return i.concat(t.filter(function(n){return n.phase===r}))},[])}function Ui(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function Fi(e){var t=e.reduce(function(i,r){var n=i[r.name];return i[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var Gr={placement:"bottom",modifiers:[],strategy:"absolute"};function Kr(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Yr(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,n=t.defaultOptions,o=n===void 0?Gr:n;return function(a,l,d){d===void 0&&(d=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gr,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],g=!1,b={state:c,setOptions:function(P){var R=typeof P=="function"?P(c.options):P;v(),c.options=Object.assign({},o,c.options,R),c.scrollParents={reference:Re(a)?Be(a):a.contextElement?Be(a.contextElement):[],popper:Be(l)};var p=Bi(Fi([].concat(r,c.options.modifiers)));if(c.orderedModifiers=p.filter(function(I){return I.enabled}),!1){var u;if(getBasePlacement(c.options.placement)===auto)var L;var w,D,H,k,V}return y(),b.update()},forceUpdate:function(){if(!g){var P=c.elements,R=P.reference,p=P.popper;if(!!Kr(R,p)){c.rects={reference:Hi(R,ve(p),c.options.strategy==="fixed"),popper:Xe(p)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var u=0,L=0;L<c.orderedModifiers.length;L++){if(c.reset===!0){c.reset=!1,L=-1;continue}var w=c.orderedModifiers[L],D=w.fn,H=w.options,k=H===void 0?{}:H,V=w.name;typeof D=="function"&&(c=D({state:c,options:k,name:V,instance:b})||c)}}}},update:Ui(function(){return new Promise(function(C){b.forceUpdate(),C(c)})}),destroy:function(){v(),g=!0}};if(!Kr(a,l))return b;b.setOptions(d).then(function(C){!g&&d.onFirstUpdate&&d.onFirstUpdate(C)});function y(){c.orderedModifiers.forEach(function(C){var P=C.name,R=C.options,p=R===void 0?{}:R,u=C.effect;if(typeof u=="function"){var L=u({state:c,name:P,instance:b,options:p}),w=function(){};f.push(L||w)}})}function v(){f.forEach(function(C){return C()}),f=[]}return b}}var hs=[Ur,qr,Br,Ct,Jr,$r,zr,Mr,Xr],$i=Yr({defaultModifiers:hs});var Vi='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',ps="tippy-box",Qr="tippy-content",ms="tippy-backdrop",Zr="tippy-arrow",en="tippy-svg-arrow",Ye={passive:!0,capture:!0},tn=function(){return document.body};function Wi(e,t,i){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(i)?i[t]:i)}return e}function Xi(e,t){var i={}.toString.call(e);return i.indexOf("[object")===0&&i.indexOf(t+"]")>-1}function rn(e,t){return typeof e=="function"?e.apply(void 0,t):e}function nn(e,t){if(t===0)return e;var i;return function(r){clearTimeout(i),i=setTimeout(function(){e(r)},t)}}function gs(e){return e.split(/\s+/).filter(Boolean)}function st(e){return[].concat(e)}function on(e,t){e.indexOf(t)===-1&&e.push(t)}function vs(e){return e.filter(function(t,i){return e.indexOf(t)===i})}function bs(e){return e.split("-")[0]}function ii(e){return[].slice.call(e)}function sn(e){return Object.keys(e).reduce(function(t,i){return e[i]!==void 0&&(t[i]=e[i]),t},{})}function Rt(){return document.createElement("div")}function ri(e){return["Element","Fragment"].some(function(t){return Xi(e,t)})}function ys(e){return Xi(e,"NodeList")}function ws(e){return Xi(e,"MouseEvent")}function Es(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function Ss(e){return ri(e)?[e]:ys(e)?ii(e):Array.isArray(e)?e:ii(document.querySelectorAll(e))}function Ji(e,t){e.forEach(function(i){i&&(i.style.transitionDuration=t+"ms")})}function an(e,t){e.forEach(function(i){i&&i.setAttribute("data-state",t)})}function Cs(e){var t,i=st(e),r=i[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function As(e,t){var i=t.clientX,r=t.clientY;return e.every(function(n){var o=n.popperRect,s=n.popperState,a=n.props,l=a.interactiveBorder,d=bs(s.placement),c=s.modifiersData.offset;if(!c)return!0;var f=d==="bottom"?c.top.y:0,g=d==="top"?c.bottom.y:0,b=d==="right"?c.left.x:0,y=d==="left"?c.right.x:0,v=o.top-r+f>l,C=r-o.bottom-g>l,P=o.left-i+b>l,R=i-o.right-y>l;return v||C||P||R})}function qi(e,t,i){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){e[r](n,i)})}function ln(e,t){for(var i=t;i;){var r;if(e.contains(i))return!0;i=i.getRootNode==null||(r=i.getRootNode())==null?void 0:r.host}return!1}var Te={isTouch:!1},un=0;function Ts(){Te.isTouch||(Te.isTouch=!0,window.performance&&document.addEventListener("mousemove",cn))}function cn(){var e=performance.now();e-un<20&&(Te.isTouch=!1,document.removeEventListener("mousemove",cn)),un=e}function Os(){var e=document.activeElement;if(Es(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function xs(){document.addEventListener("touchstart",Ts,Ye),window.addEventListener("blur",Os)}var Ps=typeof window!="undefined"&&typeof document!="undefined",ks=Ps?!!window.msCrypto:!1;var Rs={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ls={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ye=Object.assign({appendTo:tn,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Rs,Ls),_s=Object.keys(ye),Ds=function(t){var i=Object.keys(t);i.forEach(function(r){ye[r]=t[r]})};function dn(e){var t=e.plugins||[],i=t.reduce(function(r,n){var o=n.name,s=n.defaultValue;if(o){var a;r[o]=e[o]!==void 0?e[o]:(a=ye[o])!=null?a:s}return r},{});return Object.assign({},e,i)}function js(e,t){var i=t?Object.keys(dn(Object.assign({},ye,{plugins:t}))):_s,r=i.reduce(function(n,o){var s=(e.getAttribute("data-tippy-"+o)||"").trim();if(!s)return n;if(o==="content")n[o]=s;else try{n[o]=JSON.parse(s)}catch(a){n[o]=s}return n},{});return r}function fn(e,t){var i=Object.assign({},t,{content:rn(t.content,[e])},t.ignoreAttributes?{}:js(e,t.plugins));return i.aria=Object.assign({},ye.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?t.interactive:i.aria.expanded,content:i.aria.content==="auto"?t.interactive?null:"describedby":i.aria.content},i}var Is=function(){return"innerHTML"};function zi(e,t){e[Is()]=t}function hn(e){var t=Rt();return e===!0?t.className=Zr:(t.className=en,ri(e)?t.appendChild(e):zi(t,e)),t}function pn(e,t){ri(t.content)?(zi(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?zi(e,t.content):e.textContent=t.content)}function Gi(e){var t=e.firstElementChild,i=ii(t.children);return{box:t,content:i.find(function(r){return r.classList.contains(Qr)}),arrow:i.find(function(r){return r.classList.contains(Zr)||r.classList.contains(en)}),backdrop:i.find(function(r){return r.classList.contains(ms)})}}function mn(e){var t=Rt(),i=Rt();i.className=ps,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var r=Rt();r.className=Qr,r.setAttribute("data-state","hidden"),pn(r,e.props),t.appendChild(i),i.appendChild(r),n(e.props,e.props);function n(o,s){var a=Gi(t),l=a.box,d=a.content,c=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&pn(d,e.props),s.arrow?c?o.arrow!==s.arrow&&(l.removeChild(c),l.appendChild(hn(s.arrow))):l.appendChild(hn(s.arrow)):c&&l.removeChild(c)}return{popper:t,onUpdate:n}}mn.$$tippy=!0;var Ns=1,ni=[],Ki=[];function Ms(e,t){var i=fn(e,Object.assign({},ye,dn(sn(t)))),r,n,o,s=!1,a=!1,l=!1,d=!1,c,f,g,b=[],y=nn(_t,i.interactiveDebounce),v,C=Ns++,P=null,R=vs(i.plugins),p={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},u={id:C,reference:e,popper:Rt(),popperInstance:P,props:i,state:p,plugins:R,clearDelayTimeouts:En,setProps:Sn,setContent:Cn,show:An,hide:Tn,hideWithInteractivity:On,enable:yn,disable:wn,unmount:xn,destroy:Pn};if(!i.render)return u;var L=i.render(u),w=L.popper,D=L.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+u.id,u.popper=w,e._tippy=u,w._tippy=u;var H=R.map(function(h){return h.fn(u)}),k=e.hasAttribute("aria-expanded");return at(),J(),S(),O("onCreate",[u]),i.showOnCreate&&Qi(),w.addEventListener("mouseenter",function(){u.props.interactive&&u.state.isVisible&&u.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(){u.props.interactive&&u.props.trigger.indexOf("mouseenter")>=0&&ie().addEventListener("mousemove",y)}),u;function V(){var h=u.props.touch;return Array.isArray(h)?h:[h,0]}function I(){return V()[0]==="hold"}function N(){var h;return!!((h=u.props.render)!=null&&h.$$tippy)}function M(){return v||e}function ie(){var h=M().parentNode;return h?Cs(h):document}function A(){return Gi(w)}function T(h){return u.state.isMounted&&!u.state.isVisible||Te.isTouch||c&&c.type==="focus"?0:Wi(u.props.delay,h?0:1,ye.delay)}function S(h){h===void 0&&(h=!1),w.style.pointerEvents=u.props.interactive&&!h?"":"none",w.style.zIndex=""+u.props.zIndex}function O(h,E,x){if(x===void 0&&(x=!0),H.forEach(function(_){_[h]&&_[h].apply(_,E)}),x){var j;(j=u.props)[h].apply(j,E)}}function U(){var h=u.props.aria;if(!!h.content){var E="aria-"+h.content,x=w.id,j=st(u.props.triggerTarget||e);j.forEach(function(_){var ne=_.getAttribute(E);if(u.state.isVisible)_.setAttribute(E,ne?ne+" "+x:x);else{var fe=ne&&ne.replace(x,"").trim();fe?_.setAttribute(E,fe):_.removeAttribute(E)}})}}function J(){if(!(k||!u.props.aria.expanded)){var h=st(u.props.triggerTarget||e);h.forEach(function(E){u.props.interactive?E.setAttribute("aria-expanded",u.state.isVisible&&E===M()?"true":"false"):E.removeAttribute("aria-expanded")})}}function se(){ie().removeEventListener("mousemove",y),ni=ni.filter(function(h){return h!==y})}function Q(h){if(!(Te.isTouch&&(l||h.type==="mousedown"))){var E=h.composedPath&&h.composedPath()[0]||h.target;if(!(u.props.interactive&&ln(w,E))){if(st(u.props.triggerTarget||e).some(function(x){return ln(x,E)})){if(Te.isTouch||u.state.isVisible&&u.props.trigger.indexOf("click")>=0)return}else O("onClickOutside",[u,h]);u.props.hideOnClick===!0&&(u.clearDelayTimeouts(),u.hide(),a=!0,setTimeout(function(){a=!1}),u.state.isMounted||de())}}}function Z(){l=!0}function re(){l=!1}function B(){var h=ie();h.addEventListener("mousedown",Q,!0),h.addEventListener("touchend",Q,Ye),h.addEventListener("touchstart",re,Ye),h.addEventListener("touchmove",Z,Ye)}function de(){var h=ie();h.removeEventListener("mousedown",Q,!0),h.removeEventListener("touchend",Q,Ye),h.removeEventListener("touchstart",re,Ye),h.removeEventListener("touchmove",Z,Ye)}function _e(h,E){Qe(h,function(){!u.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&E()})}function De(h,E){Qe(h,E)}function Qe(h,E){var x=A().box;function j(_){_.target===x&&(qi(x,"remove",j),E())}if(h===0)return E();qi(x,"remove",f),qi(x,"add",j),f=j}function Oe(h,E,x){x===void 0&&(x=!1);var j=st(u.props.triggerTarget||e);j.forEach(function(_){_.addEventListener(h,E,x),b.push({node:_,eventType:h,handler:E,options:x})})}function at(){I()&&(Oe("touchstart",ut,{passive:!0}),Oe("touchend",Dt,{passive:!0})),gs(u.props.trigger).forEach(function(h){if(h!=="manual")switch(Oe(h,ut),h){case"mouseenter":Oe("mouseleave",Dt);break;case"focus":Oe(ks?"focusout":"blur",Ue);break;case"focusin":Oe("focusout",Ue);break}})}function lt(){b.forEach(function(h){var E=h.node,x=h.eventType,j=h.handler,_=h.options;E.removeEventListener(x,j,_)}),b=[]}function ut(h){var E,x=!1;if(!(!u.state.isEnabled||ct(h)||a)){var j=((E=c)==null?void 0:E.type)==="focus";c=h,v=h.currentTarget,J(),!u.state.isVisible&&ws(h)&&ni.forEach(function(_){return _(h)}),h.type==="click"&&(u.props.trigger.indexOf("mouseenter")<0||s)&&u.props.hideOnClick!==!1&&u.state.isVisible?x=!0:Qi(h),h.type==="click"&&(s=!x),x&&!j&&jt(h)}}function _t(h){var E=h.target,x=M().contains(E)||w.contains(E);if(!(h.type==="mousemove"&&x)){var j=li().concat(w).map(function(_){var ne,fe=_._tippy,Ze=(ne=fe.popperInstance)==null?void 0:ne.state;return Ze?{popperRect:_.getBoundingClientRect(),popperState:Ze,props:i}:null}).filter(Boolean);As(j,h)&&(se(),jt(h))}}function Dt(h){var E=ct(h)||u.props.trigger.indexOf("click")>=0&&s;if(!E){if(u.props.interactive){u.hideWithInteractivity(h);return}jt(h)}}function Ue(h){u.props.trigger.indexOf("focusin")<0&&h.target!==M()||u.props.interactive&&h.relatedTarget&&w.contains(h.relatedTarget)||jt(h)}function ct(h){return Te.isTouch?I()!==h.type.indexOf("touch")>=0:!1}function dt(){ft();var h=u.props,E=h.popperOptions,x=h.placement,j=h.offset,_=h.getReferenceClientRect,ne=h.moveTransition,fe=N()?Gi(w).arrow:null,Ze=_?{getBoundingClientRect:_,contextElement:_.contextElement||M()}:e,Zi={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(It){var et=It.state;if(N()){var kn=A(),ci=kn.box;["placement","reference-hidden","escaped"].forEach(function(Nt){Nt==="placement"?ci.setAttribute("data-placement",et.placement):et.attributes.popper["data-popper-"+Nt]?ci.setAttribute("data-"+Nt,""):ci.removeAttribute("data-"+Nt)}),et.attributes.popper={}}}},Fe=[{name:"offset",options:{offset:j}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ne}},Zi];N()&&fe&&Fe.push({name:"arrow",options:{element:fe,padding:3}}),Fe.push.apply(Fe,(E==null?void 0:E.modifiers)||[]),u.popperInstance=$i(Ze,w,Object.assign({},E,{placement:x,onFirstUpdate:g,modifiers:Fe}))}function ft(){u.popperInstance&&(u.popperInstance.destroy(),u.popperInstance=null)}function bn(){var h=u.props.appendTo,E,x=M();u.props.interactive&&h===tn||h==="parent"?E=x.parentNode:E=rn(h,[x]),E.contains(w)||E.appendChild(w),u.state.isMounted=!0,dt()}function li(){return ii(w.querySelectorAll("[data-tippy-root]"))}function Qi(h){u.clearDelayTimeouts(),h&&O("onTrigger",[u,h]),B();var E=T(!0),x=V(),j=x[0],_=x[1];Te.isTouch&&j==="hold"&&_&&(E=_),E?r=setTimeout(function(){u.show()},E):u.show()}function jt(h){if(u.clearDelayTimeouts(),O("onUntrigger",[u,h]),!u.state.isVisible){de();return}if(!(u.props.trigger.indexOf("mouseenter")>=0&&u.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(h.type)>=0&&s)){var E=T(!1);E?n=setTimeout(function(){u.state.isVisible&&u.hide()},E):o=requestAnimationFrame(function(){u.hide()})}}function yn(){u.state.isEnabled=!0}function wn(){u.hide(),u.state.isEnabled=!1}function En(){clearTimeout(r),clearTimeout(n),cancelAnimationFrame(o)}function Sn(h){if(!u.state.isDestroyed){O("onBeforeUpdate",[u,h]),lt();var E=u.props,x=fn(e,Object.assign({},E,sn(h),{ignoreAttributes:!0}));u.props=x,at(),E.interactiveDebounce!==x.interactiveDebounce&&(se(),y=nn(_t,x.interactiveDebounce)),E.triggerTarget&&!x.triggerTarget?st(E.triggerTarget).forEach(function(j){j.removeAttribute("aria-expanded")}):x.triggerTarget&&e.removeAttribute("aria-expanded"),J(),S(),D&&D(E,x),u.popperInstance&&(dt(),li().forEach(function(j){requestAnimationFrame(j._tippy.popperInstance.forceUpdate)})),O("onAfterUpdate",[u,h])}}function Cn(h){u.setProps({content:h})}function An(){var h=u.state.isVisible,E=u.state.isDestroyed,x=!u.state.isEnabled,j=Te.isTouch&&!u.props.touch,_=Wi(u.props.duration,0,ye.duration);if(!(h||E||x||j)&&!M().hasAttribute("disabled")&&(O("onShow",[u],!1),u.props.onShow(u)!==!1)){if(u.state.isVisible=!0,N()&&(w.style.visibility="visible"),S(),B(),u.state.isMounted||(w.style.transition="none"),N()){var ne=A(),fe=ne.box,Ze=ne.content;Ji([fe,Ze],0)}g=function(){var Fe;if(!(!u.state.isVisible||d)){if(d=!0,w.offsetHeight,w.style.transition=u.props.moveTransition,N()&&u.props.animation){var ui=A(),It=ui.box,et=ui.content;Ji([It,et],_),an([It,et],"visible")}U(),J(),on(Ki,u),(Fe=u.popperInstance)==null||Fe.forceUpdate(),O("onMount",[u]),u.props.animation&&N()&&De(_,function(){u.state.isShown=!0,O("onShown",[u])})}},bn()}}function Tn(){var h=!u.state.isVisible,E=u.state.isDestroyed,x=!u.state.isEnabled,j=Wi(u.props.duration,1,ye.duration);if(!(h||E||x)&&(O("onHide",[u],!1),u.props.onHide(u)!==!1)){if(u.state.isVisible=!1,u.state.isShown=!1,d=!1,s=!1,N()&&(w.style.visibility="hidden"),se(),de(),S(!0),N()){var _=A(),ne=_.box,fe=_.content;u.props.animation&&(Ji([ne,fe],j),an([ne,fe],"hidden"))}U(),J(),u.props.animation?N()&&_e(j,u.unmount):u.unmount()}}function On(h){ie().addEventListener("mousemove",y),on(ni,y),y(h)}function xn(){u.state.isVisible&&u.hide(),!!u.state.isMounted&&(ft(),li().forEach(function(h){h._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w),Ki=Ki.filter(function(h){return h!==u}),u.state.isMounted=!1,O("onHidden",[u]))}function Pn(){u.state.isDestroyed||(u.clearDelayTimeouts(),u.unmount(),lt(),delete e._tippy,u.state.isDestroyed=!0,O("onDestroy",[u]))}}function Lt(e,t){t===void 0&&(t={});var i=ye.plugins.concat(t.plugins||[]);xs();var r=Object.assign({},t,{plugins:i}),n=Ss(e);if(!1)var o,s;var a=n.reduce(function(l,d){var c=d&&Ms(d,r);return c&&l.push(c),l},[]);return ri(e)?a[0]:a}Lt.defaultProps=ye;Lt.setDefaultProps=Ds;Lt.currentInput=Te;var _c=Object.assign({},Ct,{effect:function(t){var i=t.state,r={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,r.popper),i.styles=r,i.elements.arrow&&Object.assign(i.elements.arrow.style,r.arrow)}});Lt.setDefaultProps({render:mn});var Yi=Lt;var si=Hn(vn());si.default.config({barColors:{0:"#0284c7"},shadowColor:"rgba(0, 0, 0, .3)"});window.addEventListener("phx:page-loading-start",e=>si.default.show());window.addEventListener("phx:page-loading-stop",e=>si.default.hide());var ai={};ai.ToggleRefresh={mounted(){let e=this;document.addEventListener("visibilitychange",t=>{document.visibilityState==="visible"?e.pushEventTo("#refresh","resume-refresh",{}):e.pushEventTo("#refresh","pause-refresh",{})})}};ai.ToggleDarkMode={setMode(){localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},mounted(){this.el.addEventListener("click",t=>{localStorage.theme=localStorage.theme==="dark"?"light":"dark",this.setMode()});let e=this.el.getAttribute("data-title");Yi(this.el,{arrow:Vi,content:e,delay:[500,null]})}};ai.Tippy={mounted(){let e=this.el.getAttribute("data-title");Yi(this.el,{arrow:Vi,content:e,delay:[500,null]})}};var Hs=document.querySelector("meta[name='csrf-token']").getAttribute("content"),Bs=document.querySelector("meta[name='live-transport']").getAttribute("content"),Us=document.querySelector("meta[name='live-path']").getAttribute("content"),Fs=new _r(Us,tr,{transport:Bs==="longpoll"?Bt:WebSocket,params:{_csrf_token:Hs},hooks:ai});Fs.connect();})();
/**
 * @license MIT
 * topbar 1.0.0, 2021-01-06
 * http://buunguyen.github.io/topbar
 * Copyright (c) 2021 Buu Nguyen
 */
