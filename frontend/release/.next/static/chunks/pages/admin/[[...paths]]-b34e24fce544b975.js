(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{18936:function(e,r,t){"use strict";t.d(r,{Z:function(){return p}});t(9405);var n,o=t(89552),c=t(4283),i=t.n(c),l=t(71383),s=t(13043),a=t.n(s)().div(n||(n=(0,l.Z)(["\n  flex\n  flex-col\n  content-center\n  items-center\n  justify-center\n  text-center\n  px-12\n  py-8\n  mx-0\n  my-4\n"]))),u=t(85893),f=function(){return(0,u.jsx)(a,{children:(0,u.jsx)(o.Z,{size:"large"})})},p=function(e){var r=e.showTopProgress,t=void 0===r||r,n=e.showContentProgress,o=void 0===n||n;return(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsx)(i(),{}),o&&(0,u.jsx)(f,{})]})}},59464:function(e,r,t){"use strict";var n=t(59499),o=(t(82815),t(84960)),c=t(4730),i=t(85893),l=["children","letters","color"];function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var u=function(e){return e||"var(--primary-color)"};r.Z=function(e){var r=e.children,t=e.letters,n=e.color,s=(0,c.Z)(e,l),f={backgroundColor:u(n)};return s.size&&Number.isInteger(s.size)&&(f.fontSize="".concat(Math.floor(s.size/2),"px")),(0,i.jsx)(o.ZP,a(a({className:"flex-none",style:f},s),{},{children:t||r}))}},58902:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Ht}});var n=t(4730),o=t(5152),c=t(11163),i=t(65386),l=t(71217),s=t(18936),a=t(96650),u=t(85893),f=(0,l.Pi)((function(e){var r=e.children,t=e.redirectTo,n=(0,a.oR)("session"),o=(0,c.useRouter)();if(n.isLoading)return(0,u.jsx)(s.Z,{});if(!n.userCanAdmin){var i=t||"/";return o.replace(i).then((function(){console.warn("Ensure admin blocked. Redirect to ".concat(i))})),null}return(0,u.jsx)(u.Fragment,{children:r})})),p=function(){return(0,u.jsx)("div",{children:"Dashboard"})},d=function(){return(0,u.jsx)("div",{children:"Events Details"})},O=function(){return(0,u.jsx)("div",{children:"Events"})},j=function(){return(0,u.jsx)("div",{children:"Groups Details"})},b=function(){return(0,u.jsx)("div",{children:"Groups"})},y=function(){return(0,u.jsx)("div",{children:"Invalid Admin Link"})},h=t(62251),v=t(52031),g=function(e){var r=e.path,t="".concat(v.Z.api.baseUrl).concat(r);return(0,u.jsx)(h.Z,{url:t,height:"100%",width:"100%"})},m=function(){return(0,u.jsx)(g,{path:"/workers"})},x=function(){return(0,u.jsx)(g,{path:"/monitor"})},P=function(e){var r=e.path,t=e.queryParams;return(0,u.jsxs)("div",{children:["Users Details with paths: ",(0,u.jsx)("span",{children:r.toString()})," and query params:"," ",(0,u.jsx)("span",{children:t.toString()})]})},w=t(59499),S=(t(92015),t(4863)),Z=(t(30467),t(55673)),D=(t(58136),t(5789)),C=(t(44230),t(20838)),E=t(67294),k=(t(1025),t(65400)),F=t(50888),N=t(80651),T=function(e){var r=e.children,t=e.leftIconComponent,n=e.rightIconComponent;return(0,u.jsxs)("div",{className:"flex items-center -mt-1",children:[t?(0,u.jsx)(t,{className:"pt-1 mr-1"}):null,r,n?(0,u.jsx)(n,{className:"pt-1 ml-1"}):null]})},A=["loadMore","isLoading","canLoadMore"];function I(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function U(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?I(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var _,q=function(e){var r=e.loadMore,t=e.isLoading,o=e.canLoadMore,c=(0,n.Z)(e,A);return(0,u.jsx)(k.default,U(U({type:"text",onClick:r},c),{},{children:t?(0,u.jsx)(T,{rightIconComponent:F.Z,children:"Loading more..."}):o?(0,u.jsx)(T,{rightIconComponent:N.Z,children:"Load more"}):null}))},L=(t(56120),t(74253)),M=(t(48145),t(40987)),R=(t(58344),t(60171)),z=t(16835),B=function(e){var r=e.object;return(0,u.jsx)("pre",{children:JSON.stringify(r,null,2)})},V=function(e){var r=e.label,t=e.value;return(0,u.jsxs)("span",{children:[r&&(0,u.jsx)("span",{className:"font-bold",children:"".concat(r,": ")}),JSON.stringify(t)]})},$=function(e){return!((0,i.Kn)(e)||Array.isArray(e))},G=function(e,r,t){var n=(0,z.Z)(e,2),o=n[0],c=n[1];return $(c)?{key:"".concat(t,"-").concat(r,"-").concat(o),title:(0,u.jsx)(V,{label:o,value:c})}:{key:"".concat(t,"-").concat(r,"-").concat(o),title:o,children:X(c,t+1)}},J=function(e,r,t){return $(e)?{key:"".concat(t,"-").concat(r),title:(0,u.jsx)(V,{label:"[".concat(r,"]"),value:e})}:{key:"".concat(t,"-").concat(r),title:"".concat(r),children:X(e,t+1)}},K=function(e,r){return{key:"".concat(r,"-").concat(e),title:(0,u.jsx)(V,{value:e})}},X=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.isArray(e)?e.map((function(e,r,t){return J(e,r,t)})):(0,i.Kn)(e)?Object.entries(e).map((function(e,t){return G(e,t,r)})):K(e,r)},H=function(e){var r=e.object,t=X(r);return(0,u.jsx)(R.Z,{treeData:t})},Q=function(e){var r=e.object,t=(0,E.useState)(!1),n=t[0],o=t[1],c=n?H:B;return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex justify-end px-4",children:[(0,u.jsx)("div",{children:"Plain"}),(0,u.jsx)(M.Z,{className:"mx-2",checked:n,onChange:function(e){return o(e)}}),(0,u.jsx)("div",{children:"Tree"})]}),(0,u.jsx)(L.Z,{}),(0,u.jsx)(c,{object:r})]})},W=t(71383),Y=t(13043),ee=t.n(Y),re=t(26024),te=(t(6373),t(82891)),ne=function(e){var r=e.iconComponent,t=e.children,n=e.overlay;return(0,u.jsx)(te.Z,{arrow:!0,overlay:n,children:(0,u.jsx)(k.default,{type:"text",size:"small",onClick:function(e){return e.preventDefault()},children:(0,u.jsx)(T,{leftIconComponent:r,children:t})})})},oe=(t(23461),t(53740)),ce=oe.Z.Title,ie=ee().div(_||(_=(0,W.Z)(["\n  bg-white\n  p-4\n  shadow-md\n"]))),le=function(e){var r=e.title,t=e.children,n=e.applyDisabled,o=e.onApply,c=e.onCancel;return(0,u.jsxs)(ie,{children:[(0,u.jsx)(ce,{level:5,children:r}),(0,u.jsxs)("div",{className:"flex flex-col",children:[t?(0,u.jsx)("div",{className:"flex flex-row",children:t}):null,o||c?(0,u.jsxs)("div",{className:"flex flex-row justify-end mt-40",children:[o?(0,u.jsx)(k.default,{type:"primary",onClick:o,disabled:n,children:"Apply"}):null,c?(0,u.jsx)(k.default,{className:"ml-2",onClick:c,children:"Cancel"}):null]}):null]})]})},se=(t(35797),t(64749)),ae=t(22062),ue=["fieldSpec"];function fe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function pe(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?fe(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var de=se.Z.Option,Oe=function(e){var r=e.fieldSpec,t=(0,n.Z)(e,ue);return(0,u.jsx)(se.Z,pe(pe({className:"w-40 mr-2"},t),{},{children:r.map((function(e){var r=e.field,t=e.title;return(0,u.jsx)(de,{value:r,children:t||(0,ae.O)(r)},r)}))}))},je=function(){return(0,u.jsx)(se.Z.Option,{value:"eq",children:"Equal"})},be=function(){return(0,u.jsx)(se.Z.Option,{value:"gt",children:"Greater Than"})},ye=function(){return(0,u.jsx)(se.Z.Option,{value:"ge",children:"Greater Than or Equal"})},he=function(){return(0,u.jsx)(se.Z.Option,{value:"lt",children:"Less Than"})},ve=function(){return(0,u.jsx)(se.Z.Option,{value:"le",children:"Less Than or Equal"})},ge=function(){return(0,u.jsx)(se.Z.Option,{value:"ne",children:"Not Equal"})};function me(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function xe(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?me(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Pe=function(e){return(0,u.jsxs)(se.Z,xe(xe({},e),{},{children:[je(),ge(),be(),ye(),he(),ve()]}))};function we(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Se(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?we(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):we(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Ze=function(e){return(0,u.jsxs)(se.Z,Se(Se({},e),{},{children:[je(),ge()]}))};function De(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Ce(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?De(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):De(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Ee=function(e){return(0,u.jsxs)(se.Z,Ce(Ce({},e),{},{children:[je(),ge(),be(),ye(),he(),ve()]}))};function ke(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Fe(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ke(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Ne=function(e){return(0,u.jsxs)(se.Z,Fe(Fe({},e),{},{children:[je(),ge()]}))},Te=["fieldSpec"];function Ae(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Ie(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ae(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ae(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Ue=function(e){var r=e.fieldSpec,t=Ie(Ie({},(0,n.Z)(e,Te)),r),o=function(e){switch(e){case"string":return Ne;case"numeric":return Ee;case"enum":return Ze;case"dateTime":return Pe;default:return null}}(null===r||void 0===r?void 0:r.type);return o?(0,u.jsx)(o,Ie({},t)):null},_e=["value","onChange"];function qe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var Le=function(e){var r=e.value,t=e.onChange,o=(0,n.Z)(e,_e);return(0,u.jsx)(M.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?qe(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({checked:r,onChange:t},o))},Me=(t(62713),t(14321)),Re=["value","onChange"];function ze(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var Be=function(e){e.value;var r=e.onChange,t=(0,n.Z)(e,Re);return(0,u.jsx)(Me.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ze(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ze(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({showTime:!0,onOk:function(e,t){r(e.toISOString())}},t))},Ve=["value","onChange","values"];function $e(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Ge(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?$e(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$e(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Je=se.Z.Option,Ke=function(e){var r=e.value,t=e.onChange,o=e.values,c=(0,n.Z)(e,Ve);return(0,u.jsx)(se.Z,Ge(Ge({className:"w-32",defaultValue:r,onChange:t},c),{},{children:o.map((function(e){return(0,u.jsx)(Je,{value:e,children:(0,ae.O)(e.toLowerCase(),{capitalizeFirst:!0})},e)}))}))},Xe=(t(59567),t(8799)),He=["value","onChange"];function Qe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var We=function(e){var r=e.value,t=e.onChange,o=(0,n.Z)(e,He);return(0,u.jsx)(Xe.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Qe(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({value:r,onChange:t},o))},Ye=(t(89858),t(51024)),er=["value","onChange"];function rr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function tr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rr(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var nr=function(e){var r=e.value,t=e.onChange,o=(0,n.Z)(e,er);return(0,u.jsx)(Ye.Z,tr(tr({className:"w-40",onChange:function(e){return t(e.target.value)}},o),{},{value:r}))},or=["fieldSpec"];function cr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ir(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?cr(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var lr,sr,ar=function(e){var r=e.fieldSpec,t=ir(ir({},(0,n.Z)(e,or)),r),o=function(e){switch(e){case"string":return nr;case"number":return We;case"boolean":return Le;case"dateTime":return Be;case"enum":return Ke;default:return null}}(null===r||void 0===r?void 0:r.type);return o?(0,u.jsx)(o,ir({},t)):null},ur=function(e){var r=e.filter,t=e.filterSpec,n=e.entityTitle,o=e.onUpdateFilter,c=(0,E.useState)(void 0),i=c[0],l=c[1],s=(0,E.useState)(void 0),a=s[0],f=s[1],p=(0,E.useState)(void 0),d=p[0],O=p[1],j=(0,E.useMemo)((function(){var e;return d||(null===(e=r[i])||void 0===e?void 0:e[a])}),[i,r,a,d]),b=(0,E.useMemo)((function(){return t.find((function(e){return e.field===i}))}),[i,t]);return(0,u.jsxs)(le,{title:"Filter ".concat(n),applyDisabled:!(i&&a&&d),onApply:function(){o(i,a,d)},children:[(0,u.jsx)(Oe,{fieldSpec:t,defaultValue:i,placeholder:"Select filter field",onChange:l}),(0,u.jsx)(Ue,{className:"w-32 mr-2",fieldSpec:b,onChange:f}),(0,u.jsx)(ar,{value:j,fieldSpec:b,onChange:O})]})},fr=function(e){var r=e.scopeSpec,t=e.entityTitle,n=e.filter,o=e.updateFilterOp;return(0,u.jsx)(ne,{iconComponent:re.Z,overlay:(0,u.jsx)(ur,{entityTitle:t,filter:n,filterSpec:r.filter,onUpdateFilter:function(e,r,t){o({field:e,operator:r,value:t})}}),children:"Filter"})},pr=t(77171),dr=t(1912),Or=function(e){return Object.entries(e).map((function(e){var r=(0,z.Z)(e,2),t=r[0],n=r[1],o=n.direction;n.ordinal;return{field:t,direction:o}}))},jr=function(e){switch(e){case"eq":return"=";case"ne":return"!=";case"gt":return">";case"ge":return">=";case"lt":return"<";case"le":return"<=";case"in":return"one of";case"not_in":return"not one of";default:return(0,ae.O)(e)}},br=function(e){return JSON.stringify(e)},yr=(t(77785),t(59361)),hr=ee()(yr.default)(lr||(lr=(0,W.Z)(["\nflex\nflex-row\nitems-center\n"]))),vr=["field","operator","value"],gr=["field","direction"];function mr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function xr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?mr(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Pr=ee().div(sr||(sr=(0,W.Z)(["\n  flex\n  flex-row\n  items-center\n  py-2\n"]))),wr=function(e){var r=e.field,t=e.operator,o=e.value,c=(0,n.Z)(e,vr);return(0,u.jsx)(hr,xr(xr({color:"green",closable:!0},c),{},{children:"".concat((0,ae.O)(r)," ").concat(jr(t||"eq")," ").concat(br(o))}))},Sr=function(e){var r=e.field,t=e.direction,o=(0,n.Z)(e,gr),c="DESC"===t?(0,u.jsx)(pr.Z,{}):(0,u.jsx)(dr.Z,{});return(0,u.jsx)(hr,xr(xr({icon:c,color:"blue",closable:!0},o),{},{children:"".concat((0,ae.O)(r)," ")}))},Zr=function(e){var r=e.filter,t=e.deleteFilterOp,n=e.sort,o=e.deleteSort,c=(0,E.useMemo)((function(){return function(e){return Object.entries(e).flatMap((function(r){var t=(0,z.Z)(r,2),n=t[0],o=t[1];return"search"===n?[{field:n,value:e.search}]:Object.entries(o).map((function(e){var r=(0,z.Z)(e,2),t=r[0],o=r[1];return{field:n,operator:t,value:o}}))}))}(r)}),[r]),i=(0,E.useMemo)((function(){return Or(n)}),[n]);return c.length||i.length?(0,u.jsxs)(Pr,{children:[c.map((function(e){var r=e.field,n=e.operator,o=e.value;return(0,u.jsx)(wr,{field:r,operator:n,value:o,onClose:function(){t({field:r,operator:n})}},"".concat(r,"-").concat(n,"-").concat(o))})),i.map((function(e){var r=e.field,t=e.direction;return(0,u.jsx)(Sr,{field:r,direction:t,onClose:function(){o({field:r})}},"".concat(r,"-").concat(t))}))]}):null},Dr=t(68795),Cr=Ye.Z.Search,Er=function(e){var r=e.searchTerm,t=e.entityTitle,n=e.onUpdateSearch;return(0,u.jsx)(le,{title:"Search ".concat(t),children:(0,u.jsx)(Cr,{placeholder:"Input search term",defaultValue:r,allowClear:!0,enterButton:!0,onSearch:n})})},kr=function(e){var r=e.entityTitle,t=e.filter,n=e.updateFilterOp,o=e.deleteFilterOp;return(0,u.jsx)(ne,{iconComponent:Dr.Z,overlay:(0,u.jsx)(Er,{searchTerm:t.search,entityTitle:r,onUpdateSearch:function(e){null!==e&&void 0!==e&&e.length?null===n||void 0===n||n({field:"search",value:e}):null===o||void 0===o||o({field:"search"})}}),children:"Search"})},Fr=t(29965),Nr=["direction"];function Tr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Ar(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Tr(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Ir,Ur,_r,qr=se.Z.Option,Lr=function(e){e.direction;var r=(0,n.Z)(e,Nr);return(0,u.jsxs)(se.Z,Ar(Ar({className:"w-32"},r),{},{children:[(0,u.jsx)(qr,{value:"ASC",children:"Ascending"}),(0,u.jsx)(qr,{value:"DESC",children:"Descending"})]}))},Mr=function(e){var r,t,n=e.sort,o=e.sortSpec,c=e.entityTitle,i=e.onUpdateSort,l=(0,E.useMemo)((function(){return Or(n)}),[n]),s=(0,E.useState)(null===(r=l[0])||void 0===r?void 0:r.field),a=s[0],f=s[1],p=(0,E.useState)(null===(t=l[0])||void 0===t?void 0:t.direction),d=p[0],O=p[1];return(0,u.jsxs)(le,{title:"Sort ".concat(c),onApply:function(){return i(a,d)},children:[(0,u.jsx)(Oe,{fieldSpec:o,defaultValue:a,placeholder:"Select sort field",onChange:f}),(0,u.jsx)(Lr,{defaultValue:d||"ASC",onChange:O})]})},Rr=function(e){var r=e.scopeSpec,t=e.entityTitle,n=e.sort,o=e.updateSort;return(0,u.jsx)(ne,{iconComponent:Fr.Z,overlay:(0,u.jsx)(Mr,{entityTitle:t,sort:n,sortSpec:r.sort,onUpdateSort:function(e,r){o({field:e,direction:r})}}),children:"Sort"})},zr=ee().div(Ir||(Ir=(0,W.Z)(["\n  flex\n  flex-col\n  py-4\n"]))),Br=ee().div(Ur||(Ur=(0,W.Z)(["\n  flex\n  flex-row\n  justify-between\n  items-center\n"]))),Vr=ee().div(_r||(_r=(0,W.Z)(["\n  flex\n  flex-row\n  items-center\n"]))),$r=function(e){var r,t,n=e.scopeSpec,o=e.filter,c=e.updateFilterOp,i=e.deleteFilterOp,l=e.sort,s=e.updateSort,a=e.deleteSort,f=e.totalCount,p=e.entityTitle,d=void 0===p?"Records":p;return(0,u.jsxs)(zr,{children:[(0,u.jsxs)(Br,{children:[(0,u.jsx)(Vr,{children:"Displaying ".concat(f," ").concat(d)}),(0,u.jsxs)(Vr,{children:[n.searchable?(0,u.jsx)(kr,{entityTitle:d,filter:o,updateFilterOp:c,deleteFilterOp:i}):null,null!==(r=n.filter)&&void 0!==r&&r.length?(0,u.jsx)(fr,{scopeSpec:n,entityTitle:d,filter:o,updateFilterOp:c}):null,null!==(t=n.sort)&&void 0!==t&&t.length?(0,u.jsx)(Rr,{scopeSpec:n,entityTitle:d,sort:l,updateSort:s}):null]})]}),(0,u.jsx)(Zr,{filter:o,deleteFilterOp:i,sort:l,deleteSort:a})]})},Gr=t(87379),Jr=t(63606),Kr=t(47399),Xr=["children","connected"];function Hr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Qr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Hr(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Wr,Yr,et,rt,tt,nt=(0,Gr.ZP)(k.default).withConfig({displayName:"ConnectButton__StyledButton",componentId:"sc-6hiqsi-0"})(["flex:none;&.ant-btn-sm{padding-left:calc(var(--btn-height-sm) * 0.333);padding-right:calc(var(--btn-height-sm) * 0.333);}"]),ot=(0,Gr.ZP)(nt).withConfig({displayName:"ConnectButton__BlockButton",componentId:"sc-6hiqsi-1"})(["background-color:var(--action-color);border-color:var(--action-color);&:active{background-color:var(--action-color-active);border-color:var(--action-color-active);}&:hover,&:focus{background-color:var(--action-color-hover);border-color:var(--action-color-hover);}"]),ct=function(e){var r=e.children,t=e.connected,o=(0,n.Z)(e,Xr),c=t?{type:"link"}:{type:"primary",shape:"round"},i=Qr(Qr(Qr({},{size:"small"}),o),c),l=t?nt:ot,s=t?Jr.Z:Kr.Z;return(0,u.jsx)(l,Qr(Qr({},i),{},{children:(0,u.jsx)(T,{leftIconComponent:s,children:r})}))},it=t(59464),lt=oe.Z.Text,st=Gr.ZP.div.withConfig({displayName:"UserCard__Container",componentId:"sc-agsmxp-0"})(["width:100%;display:flex;flex-direction:column;padding:1rem;border-width:1px;border-radius:0.5rem;background-color:white;filter:drop-shadow(0 4px 8px rgba(236,236,236,0.5));"]),at=ee().div(Wr||(Wr=(0,W.Z)(["\n  flex\n  flex-row\n  items-center\n  w-full\n"]))),ut=ee().div(Yr||(Yr=(0,W.Z)(["\n  flex\n  flex-col\n  grow\n  min-w-0\n  px-2\n"]))),ft=ee()(lt)(et||(et=(0,W.Z)(["\n  font-bold\n"]))),pt=ee()(lt)(rt||(rt=(0,W.Z)(["\n  text-sm\n"]))),dt=ee().div(tt||(tt=(0,W.Z)(["\n  flex\n  flex-col\n  w-full\n  text-sm\n"]))),Ot=function(e){var r=e.user,t=e.admin;return(0,u.jsxs)(st,{children:[(0,u.jsxs)(at,{children:[(0,u.jsx)(it.Z,{size:58,letters:r.avatarLetters}),(0,u.jsxs)(ut,{children:[(0,u.jsxs)(ft,{ellipsis:{tooltip:r.username},children:["@",r.username]}),r.followerCount?(0,u.jsxs)(pt,{ellipsis:!0,children:[r.followerCount," Followers"]}):null]}),(0,u.jsx)(ct,{connected:!1,children:"Follow"})]}),t?(0,u.jsxs)(dt,{children:[(0,u.jsx)(L.Z,{}),(0,u.jsxs)("div",{children:[r.name," \xa0 ",r.pronounSymbol," \xa0 ",r.countryFlagEmoji]}),r.dob?(0,u.jsxs)("div",{children:["\ud83c\udf82 \xa0 ",r.birthday," \xa0 (",r.age,")"]}):null,r.lastSeenAt?(0,u.jsxs)("div",{children:["Last seen on ",r.lastSeenDateText]}):null]}):null]})},jt=t(22124),bt=t(28687),yt=["search"];function ht(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function vt(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ht(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ht(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var gt,mt,xt,Pt=function(e,r){var t=r.field,o=r.operator,c=r.value;if("search"===t){if(c)return vt(vt({},e),{},{search:c});e.search;return(0,n.Z)(e,yt)}if(!o)return e;var i=e[t]||{};return void 0===c?delete i[o]:i[o]=c,vt(vt({},e),{},(0,w.Z)({},t,i))},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,E.useReducer)(Pt,e),t=r[0],n=r[1],o=function(e){return n(e)},c=function(e){var r=e.field,t=e.operator;return n({field:r,operator:t,value:void 0})};return{filter:t,updateFilterOp:o,deleteFilterOp:c}},St=function(e,r){var t=r.field,n=r.direction,o=r.ordinal,c=void 0===o?0:o;return void 0===t||void 0===n?{}:(0,w.Z)({},t,{direction:n,ordinal:c})},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,E.useReducer)(St,e),t=r[0],n=r[1],o=function(e){return n(e)},c=function(e){return n(e)};return{sort:t,updateSort:o,deleteSort:c}},Dt=t(35235),Ct={pageInfoFields:(0,bt.gql)(gt||(gt=(0,W.Z)(["\n  fragment PageInfoFields on PageInfo {\n    startCursor\n    endCursor\n    itemCount\n    hasNextPage\n    hasPreviousPage\n  }\n"])))};function Et(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var kt,Ft=(0,bt.gql)(mt||(mt=(0,W.Z)(["\n  fragment UserFields on User {\n    id\n    accountType\n    firstName\n    lastName\n    dob\n    pronoun\n    countryCode\n    lastSeenAt\n    username\n    followerCount\n  }\n"]))),Nt=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Et(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Et(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({userSummaryFields:Ft,userConnectionFields:(0,bt.gql)(xt||(xt=(0,W.Z)(["\n  ","\n  ","\n  fragment UserConnectionFields on UserConnection {\n    pageInfo {\n      ...PageInfoFields\n    }\n    nodes {\n      ...UserFields\n    }\n  }\n"])),Ct.pageInfoFields,Ft)},Ct);function Tt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function At(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Tt(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tt(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var It=(0,bt.gql)(kt||(kt=(0,W.Z)(["\n  ","\n  query UsersList(\n    $filter: UserFilter\n    $paginate: PaginationInput\n    $sort: UserSort\n  ) {\n    listUsers(filter: $filter, paginate: $paginate, sort: $sort) {\n      ...UserConnectionFields\n    }\n  }\n"])),Nt.userConnectionFields);function Ut(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _t(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ut(Object(t),!0).forEach((function(r){(0,w.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ut(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var qt={searchable:!0,filter:[{field:"email",type:"string"},{field:"username",type:"string"},{field:"accountType",type:"enum",values:["ADMIN","STAFF","USER","VISITOR"]},{field:"lastSeenAt",type:"dateTime",title:"Last seen"},{field:"updatedAt",type:"dateTime"}],sort:[{field:"score"},{field:"lastSeenAt"},{field:"updatedAt"}]},Lt=C.Z.TabPane,Mt=function(e){var r=e.data,t=e.filter,n=e.updateFilterOp,o=e.deleteFilterOp,c=e.sort,i=e.updateSort,l=e.deleteSort,a=e.totalCount,f=e.fetchNextPage,p=e.hasNextPage,d=e.isFetching,O=e.isFetchingNextPage;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)($r,{entityTitle:"Users",scopeSpec:qt,filter:t,updateFilterOp:n,deleteFilterOp:o,sort:c,updateSort:i,deleteSort:l,totalCount:a}),(0,u.jsx)(Z.Z,{gutter:[16,16],children:r.pages.map((function(e,r){return(0,u.jsx)(E.Fragment,{children:jt.Z.wrap(e.nodes,{observable:!1}).map((function(e){return(0,u.jsx)(D.Z,{sm:24,lg:12,xl:8,xxl:6,children:(0,u.jsx)(Ot,{user:e,admin:!0})},e.id)}))},r)}))}),(0,u.jsx)("div",{className:"flex justify-center py-6",children:(0,u.jsx)(q,{loadMore:function(){return f()},isLoading:O,canLoadMore:p,disabled:!p||O})}),d?(0,u.jsx)(s.Z,{showContentProgress:!1}):null]})},Rt=function(){var e=function(){var e=wt({}),r=e.filter,t=Zt({lastSeenAt:{direction:"DESC",ordinal:0}}),n=t.sort,o=(0,Dt.CF)(It,{dataKey:"listUsers",variables:{filter:r,sort:n}});return At(At(At({},e),t),o)}(),r=e.status,t=e.data,n=e.error,o=e.reset;return"loading"===r?(0,u.jsx)(s.Z,{}):"error"===r?(0,u.jsx)(S.default,{message:"Error Fetching users in",description:JSON.stringify(n),type:"error",closable:!0,onClose:o}):(0,u.jsxs)(C.Z,{children:[(0,u.jsx)(Lt,{tab:"Data",children:(0,u.jsx)(Mt,_t({},e))},"data"),(0,u.jsx)(Lt,{tab:"Debug",children:(0,u.jsx)(Q,{object:t})},"debug")]})},zt=function(){return(0,u.jsx)("div",{children:"Merge Users"})},Bt=(0,l.Pi)((function(e){var r=e.children,t=(0,a.oR)("session"),n=(0,Dt.Rx)(),o=t.token;return o&&n.setHeader("authorization","Bearer ".concat(o)),(0,u.jsx)(u.Fragment,{children:r})})),Vt=["paths"],$t=(0,o.default)((function(){return Promise.all([t.e(662),t.e(21),t.e(253)]).then(t.bind(t,253))}),{ssr:!1,loadableGenerated:{webpack:function(){return[253]}}}),Gt=function(e,r){return Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every((function(e,t){var n=r[t];return(0,i.HD)(n)?e===r[t]:e.match(n)})):void 0===e&&void 0===r},Jt=function(e,r){return{component:e,key:Array.isArray(r)?"".concat(r.join("_"),"_page"):r}},Kt=/[\w_-]*/,Xt=function(){var e,r=(0,c.useRouter)().query,t=r.paths,o=(0,n.Z)(r,Vt),i=Gt(e=t,void 0)?Jt(p,"dashboard_page"):Gt(e,["users"])?Jt(Rt,e):Gt(e,["users","merge"])?Jt(zt,e):Gt(e,["users",Kt])?Jt(P):Gt(e,["events"])?Jt(O,e):Gt(e,["events",Kt])?Jt(d):Gt(e,["groups"])?Jt(b,e):Gt(e,["groups",Kt])?Jt(j):Gt(e,["background-jobs"])?Jt(m,e):Gt(e,["monitor"])?Jt(x,e):Jt(y),l=i.component,s=i.key;return(0,u.jsx)(f,{children:(0,u.jsx)(Dt.XR,{children:(0,u.jsx)(Bt,{children:(0,u.jsx)($t,{selectedMenuKey:s,children:(0,u.jsx)(l,{path:t,queryParams:o})})})})})},Ht=function(){return(0,u.jsx)(Xt,{})}},17913:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/[[...paths]]",function(){return t(58902)}])}},function(e){e.O(0,[774,885,294,554,369,888,179],(function(){return r=17913,e(e.s=r);var r}));var r=e.O();_N_E=r}]);