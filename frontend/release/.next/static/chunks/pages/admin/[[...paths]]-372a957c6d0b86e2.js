(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{18936:function(e,r,t){"use strict";t.d(r,{Z:function(){return p}});t(9405);var n,o=t(89552),c=t(4283),i=t.n(c),l=t(71383),s=t(13043),a=t.n(s)().div(n||(n=(0,l.Z)(["\n  flex\n  flex-col\n  content-center\n  items-center\n  justify-center\n  text-center\n  px-12\n  py-8\n  mx-0\n  my-4\n"]))),u=t(85893),f=function(){return(0,u.jsx)(a,{children:(0,u.jsx)(o.Z,{size:"large"})})},p=function(e){var r=e.showTopProgress,t=void 0===r||r,n=e.showContentProgress,o=void 0===n||n;return(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsx)(i(),{}),o&&(0,u.jsx)(f,{})]})}},59464:function(e,r,t){"use strict";var n=t(59499),o=(t(82815),t(84960)),c=t(4730),i=t(85893),l=["children","letters","color"];function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var u=function(e){return e||"var(--primary-color)"};r.Z=function(e){var r=e.children,t=e.letters,n=e.color,s=(0,c.Z)(e,l),f={backgroundColor:u(n)};return s.size&&Number.isInteger(s.size)&&(f.fontSize="".concat(Math.floor(s.size/2),"px")),(0,i.jsx)(o.ZP,a(a({className:"flex-none",style:f},s),{},{children:t||r}))}},75193:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return $t}});var n=t(4730),o=t(5152),c=t(11163),i=t(65386),l=t(71217),s=t(18936),a=t(96650),u=t(85893),f=(0,l.Pi)((function(e){var r=e.children,t=e.redirectTo,n=(0,a.oR)("session"),o=(0,c.useRouter)();if(n.isLoading)return(0,u.jsx)(s.Z,{});if(!n.userCanAdmin){var i=t||"/";return o.replace(i).then((function(){console.warn("Ensure admin blocked. Redirect to ".concat(i))})),null}return(0,u.jsx)(u.Fragment,{children:r})})),p=function(){return(0,u.jsx)("div",{children:"Dashboard"})},d=function(){return(0,u.jsx)("div",{children:"Events Details"})},O=function(){return(0,u.jsx)("div",{children:"Events"})},j=function(){return(0,u.jsx)("div",{children:"Groups Details"})},b=function(){return(0,u.jsx)("div",{children:"Groups"})},y=function(){return(0,u.jsx)("div",{children:"Invalid Admin Link"})},h=function(e){var r=e.path,t=e.queryParams;return(0,u.jsxs)("div",{children:["Users Details with paths: ",(0,u.jsx)("span",{children:r.toString()})," and query params:"," ",(0,u.jsx)("span",{children:t.toString()})]})},v=t(59499),g=(t(92015),t(4863)),m=(t(30467),t(55673)),x=(t(58136),t(5789)),P=(t(44230),t(20838)),w=t(67294),S=(t(1025),t(65400)),Z=t(50888),D=t(80651),C=function(e){var r=e.children,t=e.leftIconComponent,n=e.rightIconComponent;return(0,u.jsxs)("div",{className:"flex items-center -mt-1",children:[t?(0,u.jsx)(t,{className:"pt-1 mr-1"}):null,r,n?(0,u.jsx)(n,{className:"pt-1 ml-1"}):null]})},E=["loadMore","isLoading","canLoadMore"];function k(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?k(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var N,T=function(e){var r=e.loadMore,t=e.isLoading,o=e.canLoadMore,c=(0,n.Z)(e,E);return(0,u.jsx)(S.default,F(F({type:"text",onClick:r},c),{},{children:t?(0,u.jsx)(C,{rightIconComponent:Z.Z,children:"Loading more..."}):o?(0,u.jsx)(C,{rightIconComponent:D.Z,children:"Load more"}):null}))},A=(t(56120),t(74253)),I=(t(48145),t(40987)),_=(t(58344),t(60171)),U=t(16835),q=function(e){var r=e.object;return(0,u.jsx)("pre",{children:JSON.stringify(r,null,2)})},L=function(e){var r=e.label,t=e.value;return(0,u.jsxs)("span",{children:[r&&(0,u.jsx)("span",{className:"font-bold",children:"".concat(r,": ")}),JSON.stringify(t)]})},M=function(e){return!((0,i.Kn)(e)||Array.isArray(e))},R=function(e,r,t){var n=(0,U.Z)(e,2),o=n[0],c=n[1];return M(c)?{key:"".concat(t,"-").concat(r,"-").concat(o),title:(0,u.jsx)(L,{label:o,value:c})}:{key:"".concat(t,"-").concat(r,"-").concat(o),title:o,children:V(c,t+1)}},z=function(e,r,t){return M(e)?{key:"".concat(t,"-").concat(r),title:(0,u.jsx)(L,{label:"[".concat(r,"]"),value:e})}:{key:"".concat(t,"-").concat(r),title:"".concat(r),children:V(e,t+1)}},B=function(e,r){return{key:"".concat(r,"-").concat(e),title:(0,u.jsx)(L,{value:e})}},V=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.isArray(e)?e.map((function(e,r,t){return z(e,r,t)})):(0,i.Kn)(e)?Object.entries(e).map((function(e,t){return R(e,t,r)})):B(e,r)},$=function(e){var r=e.object,t=V(r);return(0,u.jsx)(_.Z,{treeData:t})},G=function(e){var r=e.object,t=(0,w.useState)(!1),n=t[0],o=t[1],c=n?$:q;return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex justify-end px-4",children:[(0,u.jsx)("div",{children:"Plain"}),(0,u.jsx)(I.Z,{className:"mx-2",checked:n,onChange:function(e){return o(e)}}),(0,u.jsx)("div",{children:"Tree"})]}),(0,u.jsx)(A.Z,{}),(0,u.jsx)(c,{object:r})]})},J=t(71383),K=t(13043),X=t.n(K),H=t(26024),Q=(t(6373),t(82891)),W=function(e){var r=e.iconComponent,t=e.children,n=e.overlay;return(0,u.jsx)(Q.Z,{arrow:!0,overlay:n,children:(0,u.jsx)(S.default,{type:"text",size:"small",onClick:function(e){return e.preventDefault()},children:(0,u.jsx)(C,{leftIconComponent:r,children:t})})})},Y=(t(23461),t(53740)),ee=Y.Z.Title,re=X().div(N||(N=(0,J.Z)(["\n  bg-white\n  p-4\n  shadow-md\n"]))),te=function(e){var r=e.title,t=e.children,n=e.applyDisabled,o=e.onApply,c=e.onCancel;return(0,u.jsxs)(re,{children:[(0,u.jsx)(ee,{level:5,children:r}),(0,u.jsxs)("div",{className:"flex flex-col",children:[t?(0,u.jsx)("div",{className:"flex flex-row",children:t}):null,o||c?(0,u.jsxs)("div",{className:"flex flex-row justify-end mt-40",children:[o?(0,u.jsx)(S.default,{type:"primary",onClick:o,disabled:n,children:"Apply"}):null,c?(0,u.jsx)(S.default,{className:"ml-2",onClick:c,children:"Cancel"}):null]}):null]})]})},ne=(t(35797),t(64749)),oe=t(22062),ce=["fieldSpec"];function ie(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function le(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ie(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ie(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var se=ne.Z.Option,ae=function(e){var r=e.fieldSpec,t=(0,n.Z)(e,ce);return(0,u.jsx)(ne.Z,le(le({className:"w-40 mr-2"},t),{},{children:r.map((function(e){var r=e.field,t=e.title;return(0,u.jsx)(se,{value:r,children:t||(0,oe.O)(r)},r)}))}))},ue=function(){return(0,u.jsx)(ne.Z.Option,{value:"eq",children:"Equal"})},fe=function(){return(0,u.jsx)(ne.Z.Option,{value:"gt",children:"Greater Than"})},pe=function(){return(0,u.jsx)(ne.Z.Option,{value:"ge",children:"Greater Than or Equal"})},de=function(){return(0,u.jsx)(ne.Z.Option,{value:"lt",children:"Less Than"})},Oe=function(){return(0,u.jsx)(ne.Z.Option,{value:"le",children:"Less Than or Equal"})},je=function(){return(0,u.jsx)(ne.Z.Option,{value:"ne",children:"Not Equal"})};function be(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ye(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?be(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):be(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var he=function(e){return(0,u.jsxs)(ne.Z,ye(ye({},e),{},{children:[ue(),je(),fe(),pe(),de(),Oe()]}))};function ve(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ge(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ve(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ve(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var me=function(e){return(0,u.jsxs)(ne.Z,ge(ge({},e),{},{children:[ue(),je()]}))};function xe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Pe(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?xe(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var we=function(e){return(0,u.jsxs)(ne.Z,Pe(Pe({},e),{},{children:[ue(),je(),fe(),pe(),de(),Oe()]}))};function Se(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Ze(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Se(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var De=function(e){return(0,u.jsxs)(ne.Z,Ze(Ze({},e),{},{children:[ue(),je()]}))},Ce=["fieldSpec"];function Ee(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ke(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ee(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ee(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Fe=function(e){var r=e.fieldSpec,t=ke(ke({},(0,n.Z)(e,Ce)),r),o=function(e){switch(e){case"string":return De;case"numeric":return we;case"enum":return me;case"dateTime":return he;default:return null}}(null===r||void 0===r?void 0:r.type);return o?(0,u.jsx)(o,ke({},t)):null},Ne=["value","onChange"];function Te(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var Ae=function(e){var r=e.value,t=e.onChange,o=(0,n.Z)(e,Ne);return(0,u.jsx)(I.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Te(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Te(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({checked:r,onChange:t},o))},Ie=(t(62713),t(14321)),_e=["value","onChange"];function Ue(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var qe=function(e){e.value;var r=e.onChange,t=(0,n.Z)(e,_e);return(0,u.jsx)(Ie.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ue(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ue(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({showTime:!0,onOk:function(e,t){r(e.toISOString())}},t))},Le=["value","onChange","values"];function Me(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Re(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Me(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Me(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var ze=ne.Z.Option,Be=function(e){var r=e.value,t=e.onChange,o=e.values,c=(0,n.Z)(e,Le);return(0,u.jsx)(ne.Z,Re(Re({className:"w-32",defaultValue:r,onChange:t},c),{},{children:o.map((function(e){return(0,u.jsx)(ze,{value:e,children:(0,oe.O)(e.toLowerCase(),{capitalizeFirst:!0})},e)}))}))},Ve=(t(59567),t(8799)),$e=["value","onChange"];function Ge(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var Je=function(e){var r=e.value,t=e.onChange,o=(0,n.Z)(e,$e);return(0,u.jsx)(Ve.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ge(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ge(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({value:r,onChange:t},o))},Ke=(t(89858),t(51024)),Xe=["value","onChange"];function He(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Qe(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?He(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):He(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var We=function(e){var r=e.value,t=e.onChange,o=(0,n.Z)(e,Xe);return(0,u.jsx)(Ke.Z,Qe(Qe({className:"w-40",onChange:function(e){return t(e.target.value)}},o),{},{value:r}))},Ye=["fieldSpec"];function er(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function rr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?er(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):er(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var tr,nr,or=function(e){var r=e.fieldSpec,t=rr(rr({},(0,n.Z)(e,Ye)),r),o=function(e){switch(e){case"string":return We;case"number":return Je;case"boolean":return Ae;case"dateTime":return qe;case"enum":return Be;default:return null}}(null===r||void 0===r?void 0:r.type);return o?(0,u.jsx)(o,rr({},t)):null},cr=function(e){var r=e.filter,t=e.filterSpec,n=e.entityTitle,o=e.onUpdateFilter,c=(0,w.useState)(void 0),i=c[0],l=c[1],s=(0,w.useState)(void 0),a=s[0],f=s[1],p=(0,w.useState)(void 0),d=p[0],O=p[1],j=(0,w.useMemo)((function(){var e;return d||(null===(e=r[i])||void 0===e?void 0:e[a])}),[i,r,a,d]),b=(0,w.useMemo)((function(){return t.find((function(e){return e.field===i}))}),[i,t]);return(0,u.jsxs)(te,{title:"Filter ".concat(n),applyDisabled:!(i&&a&&d),onApply:function(){o(i,a,d)},children:[(0,u.jsx)(ae,{fieldSpec:t,defaultValue:i,placeholder:"Select filter field",onChange:l}),(0,u.jsx)(Fe,{className:"w-32 mr-2",fieldSpec:b,onChange:f}),(0,u.jsx)(or,{value:j,fieldSpec:b,onChange:O})]})},ir=function(e){var r=e.scopeSpec,t=e.entityTitle,n=e.filter,o=e.updateFilterOp;return(0,u.jsx)(W,{iconComponent:H.Z,overlay:(0,u.jsx)(cr,{entityTitle:t,filter:n,filterSpec:r.filter,onUpdateFilter:function(e,r,t){o({field:e,operator:r,value:t})}}),children:"Filter"})},lr=t(77171),sr=t(1912),ar=function(e){return Object.entries(e).map((function(e){var r=(0,U.Z)(e,2),t=r[0],n=r[1],o=n.direction;n.ordinal;return{field:t,direction:o}}))},ur=function(e){switch(e){case"eq":return"=";case"ne":return"!=";case"gt":return">";case"ge":return">=";case"lt":return"<";case"le":return"<=";case"in":return"one of";case"not_in":return"not one of";default:return(0,oe.O)(e)}},fr=function(e){return JSON.stringify(e)},pr=(t(77785),t(59361)),dr=X()(pr.default)(tr||(tr=(0,J.Z)(["\nflex\nflex-row\nitems-center\n"]))),Or=["field","operator","value"],jr=["field","direction"];function br(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function yr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?br(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):br(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var hr=X().div(nr||(nr=(0,J.Z)(["\n  flex\n  flex-row\n  items-center\n  py-2\n"]))),vr=function(e){var r=e.field,t=e.operator,o=e.value,c=(0,n.Z)(e,Or);return(0,u.jsx)(dr,yr(yr({color:"green",closable:!0},c),{},{children:"".concat((0,oe.O)(r)," ").concat(ur(t||"eq")," ").concat(fr(o))}))},gr=function(e){var r=e.field,t=e.direction,o=(0,n.Z)(e,jr),c="DESC"===t?(0,u.jsx)(lr.Z,{}):(0,u.jsx)(sr.Z,{});return(0,u.jsx)(dr,yr(yr({icon:c,color:"blue",closable:!0},o),{},{children:"".concat((0,oe.O)(r)," ")}))},mr=function(e){var r=e.filter,t=e.deleteFilterOp,n=e.sort,o=e.deleteSort,c=(0,w.useMemo)((function(){return function(e){return Object.entries(e).flatMap((function(r){var t=(0,U.Z)(r,2),n=t[0],o=t[1];return"search"===n?[{field:n,value:e.search}]:Object.entries(o).map((function(e){var r=(0,U.Z)(e,2),t=r[0],o=r[1];return{field:n,operator:t,value:o}}))}))}(r)}),[r]),i=(0,w.useMemo)((function(){return ar(n)}),[n]);return c.length||i.length?(0,u.jsxs)(hr,{children:[c.map((function(e){var r=e.field,n=e.operator,o=e.value;return(0,u.jsx)(vr,{field:r,operator:n,value:o,onClose:function(){t({field:r,operator:n})}},"".concat(r,"-").concat(n,"-").concat(o))})),i.map((function(e){var r=e.field,t=e.direction;return(0,u.jsx)(gr,{field:r,direction:t,onClose:function(){o({field:r})}},"".concat(r,"-").concat(t))}))]}):null},xr=t(68795),Pr=Ke.Z.Search,wr=function(e){var r=e.searchTerm,t=e.entityTitle,n=e.onUpdateSearch;return(0,u.jsx)(te,{title:"Search ".concat(t),children:(0,u.jsx)(Pr,{placeholder:"Input search term",defaultValue:r,allowClear:!0,enterButton:!0,onSearch:n})})},Sr=function(e){var r=e.entityTitle,t=e.filter,n=e.updateFilterOp,o=e.deleteFilterOp;return(0,u.jsx)(W,{iconComponent:xr.Z,overlay:(0,u.jsx)(wr,{searchTerm:t.search,entityTitle:r,onUpdateSearch:function(e){null!==e&&void 0!==e&&e.length?null===n||void 0===n||n({field:"search",value:e}):null===o||void 0===o||o({field:"search"})}}),children:"Search"})},Zr=t(29965),Dr=["direction"];function Cr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Er(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Cr(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var kr,Fr,Nr,Tr=ne.Z.Option,Ar=function(e){e.direction;var r=(0,n.Z)(e,Dr);return(0,u.jsxs)(ne.Z,Er(Er({className:"w-32"},r),{},{children:[(0,u.jsx)(Tr,{value:"ASC",children:"Ascending"}),(0,u.jsx)(Tr,{value:"DESC",children:"Descending"})]}))},Ir=function(e){var r,t,n=e.sort,o=e.sortSpec,c=e.entityTitle,i=e.onUpdateSort,l=(0,w.useMemo)((function(){return ar(n)}),[n]),s=(0,w.useState)(null===(r=l[0])||void 0===r?void 0:r.field),a=s[0],f=s[1],p=(0,w.useState)(null===(t=l[0])||void 0===t?void 0:t.direction),d=p[0],O=p[1];return(0,u.jsxs)(te,{title:"Sort ".concat(c),onApply:function(){return i(a,d)},children:[(0,u.jsx)(ae,{fieldSpec:o,defaultValue:a,placeholder:"Select sort field",onChange:f}),(0,u.jsx)(Ar,{defaultValue:d||"ASC",onChange:O})]})},_r=function(e){var r=e.scopeSpec,t=e.entityTitle,n=e.sort,o=e.updateSort;return(0,u.jsx)(W,{iconComponent:Zr.Z,overlay:(0,u.jsx)(Ir,{entityTitle:t,sort:n,sortSpec:r.sort,onUpdateSort:function(e,r){o({field:e,direction:r})}}),children:"Sort"})},Ur=X().div(kr||(kr=(0,J.Z)(["\n  flex\n  flex-col\n  py-4\n"]))),qr=X().div(Fr||(Fr=(0,J.Z)(["\n  flex\n  flex-row\n  justify-between\n  items-center\n"]))),Lr=X().div(Nr||(Nr=(0,J.Z)(["\n  flex\n  flex-row\n  items-center\n"]))),Mr=function(e){var r,t,n=e.scopeSpec,o=e.filter,c=e.updateFilterOp,i=e.deleteFilterOp,l=e.sort,s=e.updateSort,a=e.deleteSort,f=e.totalCount,p=e.entityTitle,d=void 0===p?"Records":p;return(0,u.jsxs)(Ur,{children:[(0,u.jsxs)(qr,{children:[(0,u.jsx)(Lr,{children:"Displaying ".concat(f," ").concat(d)}),(0,u.jsxs)(Lr,{children:[n.searchable?(0,u.jsx)(Sr,{entityTitle:d,filter:o,updateFilterOp:c,deleteFilterOp:i}):null,null!==(r=n.filter)&&void 0!==r&&r.length?(0,u.jsx)(ir,{scopeSpec:n,entityTitle:d,filter:o,updateFilterOp:c}):null,null!==(t=n.sort)&&void 0!==t&&t.length?(0,u.jsx)(_r,{scopeSpec:n,entityTitle:d,sort:l,updateSort:s}):null]})]}),(0,u.jsx)(mr,{filter:o,deleteFilterOp:i,sort:l,deleteSort:a})]})},Rr=t(87379),zr=t(63606),Br=t(47399),Vr=["children","connected"];function $r(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Gr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?$r(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$r(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Jr,Kr,Xr,Hr,Qr,Wr=(0,Rr.ZP)(S.default).withConfig({displayName:"ConnectButton__StyledButton",componentId:"sc-6hiqsi-0"})(["flex:none;&.ant-btn-sm{padding-left:calc(var(--btn-height-sm) * 0.333);padding-right:calc(var(--btn-height-sm) * 0.333);}"]),Yr=(0,Rr.ZP)(Wr).withConfig({displayName:"ConnectButton__BlockButton",componentId:"sc-6hiqsi-1"})(["background-color:var(--action-color);border-color:var(--action-color);&:active{background-color:var(--action-color-active);border-color:var(--action-color-active);}&:hover,&:focus{background-color:var(--action-color-hover);border-color:var(--action-color-hover);}"]),et=function(e){var r=e.children,t=e.connected,o=(0,n.Z)(e,Vr),c=t?{type:"link"}:{type:"primary",shape:"round"},i=Gr(Gr(Gr({},{size:"small"}),o),c),l=t?Wr:Yr,s=t?zr.Z:Br.Z;return(0,u.jsx)(l,Gr(Gr({},i),{},{children:(0,u.jsx)(C,{leftIconComponent:s,children:r})}))},rt=t(59464),tt=Y.Z.Text,nt=Rr.ZP.div.withConfig({displayName:"UserCard__Container",componentId:"sc-agsmxp-0"})(["width:100%;display:flex;flex-direction:column;padding:1rem;border-width:1px;border-radius:0.5rem;background-color:white;filter:drop-shadow(0 4px 8px rgba(236,236,236,0.5));"]),ot=X().div(Jr||(Jr=(0,J.Z)(["\n  flex\n  flex-row\n  items-center\n  w-full\n"]))),ct=X().div(Kr||(Kr=(0,J.Z)(["\n  flex\n  flex-col\n  grow\n  min-w-0\n  px-2\n"]))),it=X()(tt)(Xr||(Xr=(0,J.Z)(["\n  font-bold\n"]))),lt=X()(tt)(Hr||(Hr=(0,J.Z)(["\n  text-sm\n"]))),st=X().div(Qr||(Qr=(0,J.Z)(["\n  flex\n  flex-col\n  w-full\n  text-sm\n"]))),at=function(e){var r=e.user,t=e.admin;return(0,u.jsxs)(nt,{children:[(0,u.jsxs)(ot,{children:[(0,u.jsx)(rt.Z,{size:58,letters:r.avatarLetters}),(0,u.jsxs)(ct,{children:[(0,u.jsxs)(it,{ellipsis:{tooltip:r.username},children:["@",r.username]}),r.followerCount?(0,u.jsxs)(lt,{ellipsis:!0,children:[r.followerCount," Followers"]}):null]}),(0,u.jsx)(et,{connected:!1,children:"Follow"})]}),t?(0,u.jsxs)(st,{children:[(0,u.jsx)(A.Z,{}),(0,u.jsxs)("div",{children:[r.name," \xa0 ",r.pronounSymbol," \xa0 ",r.countryFlagEmoji]}),r.dob?(0,u.jsxs)("div",{children:["\ud83c\udf82 \xa0 ",r.birthday," \xa0 (",r.age,")"]}):null,r.lastSeenAt?(0,u.jsxs)("div",{children:["Last seen on ",r.lastSeenDateText]}):null]}):null]})},ut=t(22124),ft=t(28687),pt=["search"];function dt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Ot(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?dt(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dt(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var jt,bt,yt,ht=function(e,r){var t=r.field,o=r.operator,c=r.value;if("search"===t){if(c)return Ot(Ot({},e),{},{search:c});e.search;return(0,n.Z)(e,pt)}if(!o)return e;var i=e[t]||{};return void 0===c?delete i[o]:i[o]=c,Ot(Ot({},e),{},(0,v.Z)({},t,i))},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,w.useReducer)(ht,e),t=r[0],n=r[1],o=function(e){return n(e)},c=function(e){var r=e.field,t=e.operator;return n({field:r,operator:t,value:void 0})};return{filter:t,updateFilterOp:o,deleteFilterOp:c}},gt=function(e,r){var t=r.field,n=r.direction,o=r.ordinal,c=void 0===o?0:o;return void 0===t||void 0===n?{}:(0,v.Z)({},t,{direction:n,ordinal:c})},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,w.useReducer)(gt,e),t=r[0],n=r[1],o=function(e){return n(e)},c=function(e){return n(e)};return{sort:t,updateSort:o,deleteSort:c}},xt=t(35235),Pt={pageInfoFields:(0,ft.gql)(jt||(jt=(0,J.Z)(["\n  fragment PageInfoFields on PageInfo {\n    startCursor\n    endCursor\n    itemCount\n    hasNextPage\n    hasPreviousPage\n  }\n"])))};function wt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var St,Zt=(0,ft.gql)(bt||(bt=(0,J.Z)(["\n  fragment UserFields on User {\n    id\n    accountType\n    firstName\n    lastName\n    dob\n    pronoun\n    countryCode\n    lastSeenAt\n    username\n    followerCount\n  }\n"]))),Dt=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?wt(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wt(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({userSummaryFields:Zt,userConnectionFields:(0,ft.gql)(yt||(yt=(0,J.Z)(["\n  ","\n  ","\n  fragment UserConnectionFields on UserConnection {\n    pageInfo {\n      ...PageInfoFields\n    }\n    nodes {\n      ...UserFields\n    }\n  }\n"])),Pt.pageInfoFields,Zt)},Pt);function Ct(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Et(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ct(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ct(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var kt=(0,ft.gql)(St||(St=(0,J.Z)(["\n  ","\n  query UsersList(\n    $filter: UserFilter\n    $paginate: PaginationInput\n    $sort: UserSort\n  ) {\n    listUsers(filter: $filter, paginate: $paginate, sort: $sort) {\n      ...UserConnectionFields\n    }\n  }\n"])),Dt.userConnectionFields);function Ft(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Nt(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ft(Object(t),!0).forEach((function(r){(0,v.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ft(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Tt={searchable:!0,filter:[{field:"email",type:"string"},{field:"username",type:"string"},{field:"accountType",type:"enum",values:["ADMIN","STAFF","USER","VISITOR"]},{field:"lastSeenAt",type:"dateTime",title:"Last seen"},{field:"updatedAt",type:"dateTime"}],sort:[{field:"score"},{field:"lastSeenAt"},{field:"updatedAt"}]},At=P.Z.TabPane,It=function(e){var r=e.data,t=e.filter,n=e.updateFilterOp,o=e.deleteFilterOp,c=e.sort,i=e.updateSort,l=e.deleteSort,a=e.totalCount,f=e.fetchNextPage,p=e.hasNextPage,d=e.isFetching,O=e.isFetchingNextPage;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Mr,{entityTitle:"Users",scopeSpec:Tt,filter:t,updateFilterOp:n,deleteFilterOp:o,sort:c,updateSort:i,deleteSort:l,totalCount:a}),(0,u.jsx)(m.Z,{gutter:[16,16],children:r.pages.map((function(e,r){return(0,u.jsx)(w.Fragment,{children:ut.Z.wrap(e.nodes,{observable:!1}).map((function(e){return(0,u.jsx)(x.Z,{sm:24,lg:12,xl:8,xxl:6,children:(0,u.jsx)(at,{user:e,admin:!0})},e.id)}))},r)}))}),(0,u.jsx)("div",{className:"flex justify-center py-6",children:(0,u.jsx)(T,{loadMore:function(){return f()},isLoading:O,canLoadMore:p,disabled:!p||O})}),d?(0,u.jsx)(s.Z,{showContentProgress:!1}):null]})},_t=function(){var e=function(){var e=vt({}),r=e.filter,t=mt({lastSeenAt:{direction:"DESC",ordinal:0}}),n=t.sort,o=(0,xt.CF)(kt,{dataKey:"listUsers",variables:{filter:r,sort:n}});return Et(Et(Et({},e),t),o)}(),r=e.status,t=e.data,n=e.error,o=e.reset;return"loading"===r?(0,u.jsx)(s.Z,{}):"error"===r?(0,u.jsx)(g.default,{message:"Error Fetching users in",description:JSON.stringify(n),type:"error",closable:!0,onClose:o}):(0,u.jsxs)(P.Z,{children:[(0,u.jsx)(At,{tab:"Data",children:(0,u.jsx)(It,Nt({},e))},"data"),(0,u.jsx)(At,{tab:"Debug",children:(0,u.jsx)(G,{object:t})},"debug")]})},Ut=function(){return(0,u.jsx)("div",{children:"Merge Users"})},qt=(0,l.Pi)((function(e){var r=e.children,t=(0,a.oR)("session"),n=(0,xt.Rx)(),o=t.token;return o&&n.setHeader("authorization","Bearer ".concat(o)),(0,u.jsx)(u.Fragment,{children:r})})),Lt=["paths"],Mt=(0,o.default)((function(){return Promise.all([t.e(662),t.e(21),t.e(253)]).then(t.bind(t,253))}),{ssr:!1,loadableGenerated:{webpack:function(){return[253]}}}),Rt=function(e,r){return Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every((function(e,t){var n=r[t];return(0,i.HD)(n)?e===r[t]:e.match(n)})):void 0===e&&void 0===r},zt=function(e,r){return{component:e,key:Array.isArray(r)?"".concat(r.join("_"),"_page"):r}},Bt=/[\w_-]*/,Vt=function(){var e,r=(0,c.useRouter)().query,t=r.paths,o=(0,n.Z)(r,Lt),i=Rt(e=t,void 0)?zt(p,"dashboard_page"):Rt(e,["users"])?zt(_t,e):Rt(e,["users","merge"])?zt(Ut,e):Rt(e,["users",Bt])?zt(h):Rt(e,["events"])?zt(O,e):Rt(e,["events",Bt])?zt(d):Rt(e,["groups"])?zt(b,e):Rt(e,["groups",Bt])?zt(j):zt(y),l=i.component,s=i.key;return(0,u.jsx)(f,{children:(0,u.jsx)(xt.XR,{children:(0,u.jsx)(qt,{children:(0,u.jsx)(Mt,{selectedMenuKey:s,children:(0,u.jsx)(l,{path:t,queryParams:o})})})})})},$t=function(){return(0,u.jsx)(Vt,{})}},17913:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/[[...paths]]",function(){return t(75193)}])}},function(e){e.O(0,[774,885,294,554,277,888,179],(function(){return r=17913,e(e.s=r);var r}));var r=e.O();_N_E=r}]);